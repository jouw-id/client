(()=>{var Xc=Object.create;var Ir=Object.defineProperty;var Kc=Object.getOwnPropertyDescriptor;var Qc=Object.getOwnPropertyNames;var Yc=Object.getPrototypeOf,Zc=Object.prototype.hasOwnProperty;var Bt=(t,e)=>()=>(t&&(e=t(t=0)),e);var J=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ki=(t,e)=>{for(var n in e)Ir(t,n,{get:e[n],enumerable:!0})},el=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Qc(e))!Zc.call(t,o)&&o!==n&&Ir(t,o,{get:()=>e[o],enumerable:!(r=Kc(e,o))||r.enumerable});return t};var Ui=(t,e,n)=>(n=t!=null?Xc(Yc(t)):{},el(e||!t||!t.__esModule?Ir(n,"default",{value:t,enumerable:!0}):n,t));var v=Bt(()=>{});var O={};ki(O,{_debugEnd:()=>No,_debugProcess:()=>Ao,_events:()=>$o,_eventsCount:()=>qo,_exiting:()=>oo,_fatalExceptions:()=>Io,_getActiveHandles:()=>lo,_getActiveRequests:()=>co,_kill:()=>po,_linkedBinding:()=>ro,_maxListeners:()=>Fo,_preload_modules:()=>Mo,_rawDebug:()=>to,_startProfilerIdleNotifier:()=>Do,_stopProfilerIdleNotifier:()=>_o,_tickCallback:()=>So,abort:()=>Lo,addListener:()=>Ho,allowedNodeEnvironmentFlags:()=>wo,arch:()=>Fi,argv:()=>Hi,argv0:()=>Bo,assert:()=>vo,binding:()=>Xi,browser:()=>eo,chdir:()=>Yi,config:()=>so,cpuUsage:()=>Dn,cwd:()=>Qi,debugPort:()=>Uo,default:()=>Zo,dlopen:()=>ao,domain:()=>io,emit:()=>Xo,emitWarning:()=>Wi,env:()=>qi,execArgv:()=>Gi,execPath:()=>ko,exit:()=>mo,features:()=>bo,hasUncaughtExceptionCaptureCallback:()=>xo,hrtime:()=>Nn,kill:()=>go,listeners:()=>Yo,memoryUsage:()=>ho,moduleLoadList:()=>no,nextTick:()=>Mi,off:()=>Vo,on:()=>ze,once:()=>Go,openStdin:()=>yo,pid:()=>jo,platform:()=>$i,ppid:()=>Co,prependListener:()=>Ko,prependOnceListener:()=>Qo,reallyExit:()=>uo,release:()=>Zi,removeAllListeners:()=>Wo,removeListener:()=>zo,resourceUsage:()=>fo,setSourceMapsEnabled:()=>Po,setUncaughtExceptionCaptureCallback:()=>Eo,stderr:()=>To,stdin:()=>Oo,stdout:()=>Ro,title:()=>Ji,umask:()=>Ki,uptime:()=>Jo,version:()=>Vi,versions:()=>zi});function Sr(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function tl(){!Mt||!gt||(Mt=!1,gt.length?Ve=gt.concat(Ve):An=-1,Ve.length&&Bi())}function Bi(){if(!Mt){var t=setTimeout(tl,0);Mt=!0;for(var e=Ve.length;e;){for(gt=Ve,Ve=[];++An<e;)gt&&gt[An].run();An=-1,e=Ve.length}gt=null,Mt=!1,clearTimeout(t)}}function Mi(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ve.push(new Pi(t,e)),Ve.length===1&&!Mt&&setTimeout(Bi,0)}function Pi(t,e){this.fun=t,this.array=e}function le(){}function ro(t){Sr("_linkedBinding")}function ao(t){Sr("dlopen")}function co(){return[]}function lo(){return[]}function vo(t,e){if(!t)throw new Error(e||"assertion error")}function xo(){return!1}function Jo(){return ot.now()/1e3}function Nn(t){var e=Math.floor((Date.now()-ot.now())*.001),n=ot.now()*.001,r=Math.floor(n)+e,o=Math.floor(n%1*1e9);return t&&(r=r-t[0],o=o-t[1],o<0&&(r--,o+=xr)),[r,o]}function ze(){return Zo}function Yo(t){return[]}var Ve,Mt,gt,An,Ji,Fi,$i,qi,Hi,Gi,Vi,zi,Wi,Xi,Ki,Qi,Yi,Zi,eo,to,no,io,oo,so,uo,po,Dn,fo,ho,go,mo,yo,wo,bo,Io,Eo,So,Ao,No,Do,_o,Ro,To,Oo,Lo,jo,Co,ko,Uo,Bo,Mo,Po,ot,Er,xr,Fo,$o,qo,Ho,Go,Vo,zo,Wo,Xo,Ko,Qo,Zo,es=Bt(()=>{v();I();b();Ve=[],Mt=!1,An=-1;Pi.prototype.run=function(){this.fun.apply(null,this.array)};Ji="browser",Fi="x64",$i="browser",qi={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},Hi=["/usr/bin/node"],Gi=[],Vi="v16.8.0",zi={},Wi=function(t,e){console.warn((e?e+": ":"")+t)},Xi=function(t){Sr("binding")},Ki=function(t){return 0},Qi=function(){return"/"},Yi=function(t){},Zi={name:"node",sourceUrl:"",headersUrl:"",libUrl:""};eo=!0,to=le,no=[];io={},oo=!1,so={};uo=le,po=le,Dn=function(){return{}},fo=Dn,ho=Dn,go=le,mo=le,yo=le,wo={};bo={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Io=le,Eo=le;So=le,Ao=le,No=le,Do=le,_o=le,Ro=void 0,To=void 0,Oo=void 0,Lo=le,jo=2,Co=1,ko="/bin/usr/node",Uo=9229,Bo="node",Mo=[],Po=le,ot={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0};ot.now===void 0&&(Er=Date.now(),ot.timing&&ot.timing.navigationStart&&(Er=ot.timing.navigationStart),ot.now=()=>Date.now()-Er);xr=1e9;Nn.bigint=function(t){var e=Nn(t);return typeof BigInt>"u"?e[0]*xr+e[1]:BigInt(e[0]*xr)+BigInt(e[1])};Fo=10,$o={},qo=0;Ho=ze,Go=ze,Vo=ze,zo=ze,Wo=ze,Xo=le,Ko=ze,Qo=ze;Zo={version:Vi,versions:zi,arch:Fi,platform:$i,browser:eo,release:Zi,_rawDebug:to,moduleLoadList:no,binding:Xi,_linkedBinding:ro,_events:$o,_eventsCount:qo,_maxListeners:Fo,on:ze,addListener:Ho,once:Go,off:Vo,removeListener:zo,removeAllListeners:Wo,emit:Xo,prependListener:Ko,prependOnceListener:Qo,listeners:Yo,domain:io,_exiting:oo,config:so,dlopen:ao,uptime:Jo,_getActiveRequests:co,_getActiveHandles:lo,reallyExit:uo,_kill:po,cpuUsage:Dn,resourceUsage:fo,memoryUsage:ho,kill:go,exit:mo,openStdin:yo,allowedNodeEnvironmentFlags:wo,assert:vo,features:bo,_fatalExceptions:Io,setUncaughtExceptionCaptureCallback:Eo,hasUncaughtExceptionCaptureCallback:xo,emitWarning:Wi,nextTick:Mi,_tickCallback:So,_debugProcess:Ao,_debugEnd:No,_startProfilerIdleNotifier:Do,_stopProfilerIdleNotifier:_o,stdout:Ro,stdin:Oo,stderr:To,abort:Lo,umask:Ki,chdir:Yi,cwd:Qi,env:qi,title:Ji,argv:Hi,execArgv:Gi,pid:jo,ppid:Co,execPath:ko,debugPort:Uo,hrtime:Nn,argv0:Bo,_preload_modules:Mo,setSourceMapsEnabled:Po}});var b=Bt(()=>{es()});function nl(){if(ts)return en;ts=!0,en.byteLength=l,en.toByteArray=h,en.fromByteArray=w;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=r.length;o<a;++o)t[o]=r[o],e[r.charCodeAt(o)]=o;e[45]=62,e[95]=63;function i(u){var f=u.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=u.indexOf("=");x===-1&&(x=f);var E=x===f?0:4-x%4;return[x,E]}function l(u){var f=i(u),x=f[0],E=f[1];return(x+E)*3/4-E}function p(u,f,x){return(f+x)*3/4-x}function h(u){var f,x=i(u),E=x[0],A=x[1],_=new n(p(u,E,A)),C=0,R=A>0?E-4:E,B;for(B=0;B<R;B+=4)f=e[u.charCodeAt(B)]<<18|e[u.charCodeAt(B+1)]<<12|e[u.charCodeAt(B+2)]<<6|e[u.charCodeAt(B+3)],_[C++]=f>>16&255,_[C++]=f>>8&255,_[C++]=f&255;return A===2&&(f=e[u.charCodeAt(B)]<<2|e[u.charCodeAt(B+1)]>>4,_[C++]=f&255),A===1&&(f=e[u.charCodeAt(B)]<<10|e[u.charCodeAt(B+1)]<<4|e[u.charCodeAt(B+2)]>>2,_[C++]=f>>8&255,_[C++]=f&255),_}function m(u){return t[u>>18&63]+t[u>>12&63]+t[u>>6&63]+t[u&63]}function y(u,f,x){for(var E,A=[],_=f;_<x;_+=3)E=(u[_]<<16&16711680)+(u[_+1]<<8&65280)+(u[_+2]&255),A.push(m(E));return A.join("")}function w(u){for(var f,x=u.length,E=x%3,A=[],_=16383,C=0,R=x-E;C<R;C+=_)A.push(y(u,C,C+_>R?R:C+_));return E===1?(f=u[x-1],A.push(t[f>>2]+t[f<<4&63]+"==")):E===2&&(f=(u[x-2]<<8)+u[x-1],A.push(t[f>>10]+t[f>>4&63]+t[f<<2&63]+"=")),A.join("")}return en}function rl(){if(ns)return _n;ns=!0;return _n.read=function(t,e,n,r,o){var a,i,l=o*8-r-1,p=(1<<l)-1,h=p>>1,m=-7,y=n?o-1:0,w=n?-1:1,u=t[e+y];for(y+=w,a=u&(1<<-m)-1,u>>=-m,m+=l;m>0;a=a*256+t[e+y],y+=w,m-=8);for(i=a&(1<<-m)-1,a>>=-m,m+=r;m>0;i=i*256+t[e+y],y+=w,m-=8);if(a===0)a=1-h;else{if(a===p)return i?NaN:(u?-1:1)*(1/0);i=i+Math.pow(2,r),a=a-h}return(u?-1:1)*i*Math.pow(2,a-r)},_n.write=function(t,e,n,r,o,a){var i,l,p,h=a*8-o-1,m=(1<<h)-1,y=m>>1,w=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=r?0:a-1,f=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,i=m):(i=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-i))<1&&(i--,p*=2),i+y>=1?e+=w/p:e+=w*Math.pow(2,1-y),e*p>=2&&(i++,p/=2),i+y>=m?(l=0,i=m):i+y>=1?(l=(e*p-1)*Math.pow(2,o),i=i+y):(l=e*Math.pow(2,y-1)*Math.pow(2,o),i=0));o>=8;t[n+u]=l&255,u+=f,l/=256,o-=8);for(i=i<<o|l,h+=o;h>0;t[n+u]=i&255,u+=f,i/=256,h-=8);t[n+u-f]|=x*128},_n}function is(){if(rs)return mt;rs=!0;let t=nl(),e=rl(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;mt.Buffer=i,mt.SlowBuffer=A,mt.INSPECT_MAX_BYTES=50;let r=2147483647;mt.kMaxLength=r,i.TYPED_ARRAY_SUPPORT=o(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{let d=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(d,s),d.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function a(d){if(d>r)throw new RangeError('The value "'+d+'" is invalid for option "size"');let s=new Uint8Array(d);return Object.setPrototypeOf(s,i.prototype),s}function i(d,s,c){if(typeof d=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(d)}return l(d,s,c)}i.poolSize=8192;function l(d,s,c){if(typeof d=="string")return y(d,s);if(ArrayBuffer.isView(d))return u(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(Je(d,ArrayBuffer)||d&&Je(d.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Je(d,SharedArrayBuffer)||d&&Je(d.buffer,SharedArrayBuffer)))return f(d,s,c);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let g=d.valueOf&&d.valueOf();if(g!=null&&g!==d)return i.from(g,s,c);let S=x(d);if(S)return S;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return i.from(d[Symbol.toPrimitive]("string"),s,c);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}i.from=function(d,s,c){return l(d,s,c)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function p(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function h(d,s,c){return p(d),d<=0?a(d):s!==void 0?typeof c=="string"?a(d).fill(s,c):a(d).fill(s):a(d)}i.alloc=function(d,s,c){return h(d,s,c)};function m(d){return p(d),a(d<0?0:E(d)|0)}i.allocUnsafe=function(d){return m(d)},i.allocUnsafeSlow=function(d){return m(d)};function y(d,s){if((typeof s!="string"||s==="")&&(s="utf8"),!i.isEncoding(s))throw new TypeError("Unknown encoding: "+s);let c=_(d,s)|0,g=a(c),S=g.write(d,s);return S!==c&&(g=g.slice(0,S)),g}function w(d){let s=d.length<0?0:E(d.length)|0,c=a(s);for(let g=0;g<s;g+=1)c[g]=d[g]&255;return c}function u(d){if(Je(d,Uint8Array)){let s=new Uint8Array(d);return f(s.buffer,s.byteOffset,s.byteLength)}return w(d)}function f(d,s,c){if(s<0||d.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<s+(c||0))throw new RangeError('"length" is outside of buffer bounds');let g;return s===void 0&&c===void 0?g=new Uint8Array(d):c===void 0?g=new Uint8Array(d,s):g=new Uint8Array(d,s,c),Object.setPrototypeOf(g,i.prototype),g}function x(d){if(i.isBuffer(d)){let s=E(d.length)|0,c=a(s);return c.length===0||d.copy(c,0,0,s),c}if(d.length!==void 0)return typeof d.length!="number"||br(d.length)?a(0):w(d);if(d.type==="Buffer"&&Array.isArray(d.data))return w(d.data)}function E(d){if(d>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return d|0}function A(d){return+d!=d&&(d=0),i.alloc(+d)}i.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==i.prototype},i.compare=function(s,c){if(Je(s,Uint8Array)&&(s=i.from(s,s.offset,s.byteLength)),Je(c,Uint8Array)&&(c=i.from(c,c.offset,c.byteLength)),!i.isBuffer(s)||!i.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===c)return 0;let g=s.length,S=c.length;for(let N=0,T=Math.min(g,S);N<T;++N)if(s[N]!==c[N]){g=s[N],S=c[N];break}return g<S?-1:S<g?1:0},i.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(s,c){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return i.alloc(0);let g;if(c===void 0)for(c=0,g=0;g<s.length;++g)c+=s[g].length;let S=i.allocUnsafe(c),N=0;for(g=0;g<s.length;++g){let T=s[g];if(Je(T,Uint8Array))N+T.length>S.length?(i.isBuffer(T)||(T=i.from(T)),T.copy(S,N)):Uint8Array.prototype.set.call(S,T,N);else if(i.isBuffer(T))T.copy(S,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=T.length}return S};function _(d,s){if(i.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||Je(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);let c=d.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&c===0)return 0;let S=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return vr(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c*2;case"hex":return c>>>1;case"base64":return Ci(d).length;default:if(S)return g?-1:vr(d).length;s=(""+s).toLowerCase(),S=!0}}i.byteLength=_;function C(d,s,c){let g=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((c===void 0||c>this.length)&&(c=this.length),c<=0)||(c>>>=0,s>>>=0,c<=s))return"";for(d||(d="utf8");;)switch(d){case"hex":return Yt(this,s,c);case"utf8":case"utf-8":return oe(this,s,c);case"ascii":return Ct(this,s,c);case"latin1":case"binary":return ht(this,s,c);case"base64":return P(this,s,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fc(this,s,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),g=!0}}i.prototype._isBuffer=!0;function R(d,s,c){let g=d[s];d[s]=d[c],d[c]=g}i.prototype.swap16=function(){let s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let c=0;c<s;c+=2)R(this,c,c+1);return this},i.prototype.swap32=function(){let s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let c=0;c<s;c+=4)R(this,c,c+3),R(this,c+1,c+2);return this},i.prototype.swap64=function(){let s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let c=0;c<s;c+=8)R(this,c,c+7),R(this,c+1,c+6),R(this,c+2,c+5),R(this,c+3,c+4);return this},i.prototype.toString=function(){let s=this.length;return s===0?"":arguments.length===0?oe(this,0,s):C.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(s){if(!i.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:i.compare(this,s)===0},i.prototype.inspect=function(){let s="",c=mt.INSPECT_MAX_BYTES;return s=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(s+=" ... "),"<Buffer "+s+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(s,c,g,S,N){if(Je(s,Uint8Array)&&(s=i.from(s,s.offset,s.byteLength)),!i.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(c===void 0&&(c=0),g===void 0&&(g=s?s.length:0),S===void 0&&(S=0),N===void 0&&(N=this.length),c<0||g>s.length||S<0||N>this.length)throw new RangeError("out of range index");if(S>=N&&c>=g)return 0;if(S>=N)return-1;if(c>=g)return 1;if(c>>>=0,g>>>=0,S>>>=0,N>>>=0,this===s)return 0;let T=N-S,$=g-c,te=Math.min(T,$),Z=this.slice(S,N),ne=s.slice(c,g);for(let X=0;X<te;++X)if(Z[X]!==ne[X]){T=Z[X],$=ne[X];break}return T<$?-1:$<T?1:0};function B(d,s,c,g,S){if(d.length===0)return-1;if(typeof c=="string"?(g=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,br(c)&&(c=S?0:d.length-1),c<0&&(c=d.length+c),c>=d.length){if(S)return-1;c=d.length-1}else if(c<0)if(S)c=0;else return-1;if(typeof s=="string"&&(s=i.from(s,g)),i.isBuffer(s))return s.length===0?-1:k(d,s,c,g,S);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(d,s,c):Uint8Array.prototype.lastIndexOf.call(d,s,c):k(d,[s],c,g,S);throw new TypeError("val must be string, number or Buffer")}function k(d,s,c,g,S){let N=1,T=d.length,$=s.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(d.length<2||s.length<2)return-1;N=2,T/=2,$/=2,c/=2}function te(ne,X){return N===1?ne[X]:ne.readUInt16BE(X*N)}let Z;if(S){let ne=-1;for(Z=c;Z<T;Z++)if(te(d,Z)===te(s,ne===-1?0:Z-ne)){if(ne===-1&&(ne=Z),Z-ne+1===$)return ne*N}else ne!==-1&&(Z-=Z-ne),ne=-1}else for(c+$>T&&(c=T-$),Z=c;Z>=0;Z--){let ne=!0;for(let X=0;X<$;X++)if(te(d,Z+X)!==te(s,X)){ne=!1;break}if(ne)return Z}return-1}i.prototype.includes=function(s,c,g){return this.indexOf(s,c,g)!==-1},i.prototype.indexOf=function(s,c,g){return B(this,s,c,g,!0)},i.prototype.lastIndexOf=function(s,c,g){return B(this,s,c,g,!1)};function G(d,s,c,g){c=Number(c)||0;let S=d.length-c;g?(g=Number(g),g>S&&(g=S)):g=S;let N=s.length;g>N/2&&(g=N/2);let T;for(T=0;T<g;++T){let $=parseInt(s.substr(T*2,2),16);if(br($))return T;d[c+T]=$}return T}function z(d,s,c,g){return Sn(vr(s,d.length-c),d,c,g)}function Q(d,s,c,g){return Sn(Gc(s),d,c,g)}function D(d,s,c,g){return Sn(Ci(s),d,c,g)}function U(d,s,c,g){return Sn(Vc(s,d.length-c),d,c,g)}i.prototype.write=function(s,c,g,S){if(c===void 0)S="utf8",g=this.length,c=0;else if(g===void 0&&typeof c=="string")S=c,g=this.length,c=0;else if(isFinite(c))c=c>>>0,isFinite(g)?(g=g>>>0,S===void 0&&(S="utf8")):(S=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let N=this.length-c;if((g===void 0||g>N)&&(g=N),s.length>0&&(g<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");S||(S="utf8");let T=!1;for(;;)switch(S){case"hex":return G(this,s,c,g);case"utf8":case"utf-8":return z(this,s,c,g);case"ascii":case"latin1":case"binary":return Q(this,s,c,g);case"base64":return D(this,s,c,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,s,c,g);default:if(T)throw new TypeError("Unknown encoding: "+S);S=(""+S).toLowerCase(),T=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(d,s,c){return s===0&&c===d.length?t.fromByteArray(d):t.fromByteArray(d.slice(s,c))}function oe(d,s,c){c=Math.min(d.length,c);let g=[],S=s;for(;S<c;){let N=d[S],T=null,$=N>239?4:N>223?3:N>191?2:1;if(S+$<=c){let te,Z,ne,X;switch($){case 1:N<128&&(T=N);break;case 2:te=d[S+1],(te&192)===128&&(X=(N&31)<<6|te&63,X>127&&(T=X));break;case 3:te=d[S+1],Z=d[S+2],(te&192)===128&&(Z&192)===128&&(X=(N&15)<<12|(te&63)<<6|Z&63,X>2047&&(X<55296||X>57343)&&(T=X));break;case 4:te=d[S+1],Z=d[S+2],ne=d[S+3],(te&192)===128&&(Z&192)===128&&(ne&192)===128&&(X=(N&15)<<18|(te&63)<<12|(Z&63)<<6|ne&63,X>65535&&X<1114112&&(T=X))}}T===null?(T=65533,$=1):T>65535&&(T-=65536,g.push(T>>>10&1023|55296),T=56320|T&1023),g.push(T),S+=$}return W(g)}let re=4096;function W(d){let s=d.length;if(s<=re)return String.fromCharCode.apply(String,d);let c="",g=0;for(;g<s;)c+=String.fromCharCode.apply(String,d.slice(g,g+=re));return c}function Ct(d,s,c){let g="";c=Math.min(d.length,c);for(let S=s;S<c;++S)g+=String.fromCharCode(d[S]&127);return g}function ht(d,s,c){let g="";c=Math.min(d.length,c);for(let S=s;S<c;++S)g+=String.fromCharCode(d[S]);return g}function Yt(d,s,c){let g=d.length;(!s||s<0)&&(s=0),(!c||c<0||c>g)&&(c=g);let S="";for(let N=s;N<c;++N)S+=zc[d[N]];return S}function Fc(d,s,c){let g=d.slice(s,c),S="";for(let N=0;N<g.length-1;N+=2)S+=String.fromCharCode(g[N]+g[N+1]*256);return S}i.prototype.slice=function(s,c){let g=this.length;s=~~s,c=c===void 0?g:~~c,s<0?(s+=g,s<0&&(s=0)):s>g&&(s=g),c<0?(c+=g,c<0&&(c=0)):c>g&&(c=g),c<s&&(c=s);let S=this.subarray(s,c);return Object.setPrototypeOf(S,i.prototype),S};function se(d,s,c){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+s>c)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(s,c,g){s=s>>>0,c=c>>>0,g||se(s,c,this.length);let S=this[s],N=1,T=0;for(;++T<c&&(N*=256);)S+=this[s+T]*N;return S},i.prototype.readUintBE=i.prototype.readUIntBE=function(s,c,g){s=s>>>0,c=c>>>0,g||se(s,c,this.length);let S=this[s+--c],N=1;for(;c>0&&(N*=256);)S+=this[s+--c]*N;return S},i.prototype.readUint8=i.prototype.readUInt8=function(s,c){return s=s>>>0,c||se(s,1,this.length),this[s]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(s,c){return s=s>>>0,c||se(s,2,this.length),this[s]|this[s+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(s,c){return s=s>>>0,c||se(s,2,this.length),this[s]<<8|this[s+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(s,c){return s=s>>>0,c||se(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(s,c){return s=s>>>0,c||se(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},i.prototype.readBigUInt64LE=it(function(s){s=s>>>0,Ut(s,"offset");let c=this[s],g=this[s+7];(c===void 0||g===void 0)&&Zt(s,this.length-8);let S=c+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,N=this[++s]+this[++s]*2**8+this[++s]*2**16+g*2**24;return BigInt(S)+(BigInt(N)<<BigInt(32))}),i.prototype.readBigUInt64BE=it(function(s){s=s>>>0,Ut(s,"offset");let c=this[s],g=this[s+7];(c===void 0||g===void 0)&&Zt(s,this.length-8);let S=c*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],N=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+g;return(BigInt(S)<<BigInt(32))+BigInt(N)}),i.prototype.readIntLE=function(s,c,g){s=s>>>0,c=c>>>0,g||se(s,c,this.length);let S=this[s],N=1,T=0;for(;++T<c&&(N*=256);)S+=this[s+T]*N;return N*=128,S>=N&&(S-=Math.pow(2,8*c)),S},i.prototype.readIntBE=function(s,c,g){s=s>>>0,c=c>>>0,g||se(s,c,this.length);let S=c,N=1,T=this[s+--S];for(;S>0&&(N*=256);)T+=this[s+--S]*N;return N*=128,T>=N&&(T-=Math.pow(2,8*c)),T},i.prototype.readInt8=function(s,c){return s=s>>>0,c||se(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},i.prototype.readInt16LE=function(s,c){s=s>>>0,c||se(s,2,this.length);let g=this[s]|this[s+1]<<8;return g&32768?g|4294901760:g},i.prototype.readInt16BE=function(s,c){s=s>>>0,c||se(s,2,this.length);let g=this[s+1]|this[s]<<8;return g&32768?g|4294901760:g},i.prototype.readInt32LE=function(s,c){return s=s>>>0,c||se(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},i.prototype.readInt32BE=function(s,c){return s=s>>>0,c||se(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},i.prototype.readBigInt64LE=it(function(s){s=s>>>0,Ut(s,"offset");let c=this[s],g=this[s+7];(c===void 0||g===void 0)&&Zt(s,this.length-8);let S=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(g<<24);return(BigInt(S)<<BigInt(32))+BigInt(c+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),i.prototype.readBigInt64BE=it(function(s){s=s>>>0,Ut(s,"offset");let c=this[s],g=this[s+7];(c===void 0||g===void 0)&&Zt(s,this.length-8);let S=(c<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(S)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+g)}),i.prototype.readFloatLE=function(s,c){return s=s>>>0,c||se(s,4,this.length),e.read(this,s,!0,23,4)},i.prototype.readFloatBE=function(s,c){return s=s>>>0,c||se(s,4,this.length),e.read(this,s,!1,23,4)},i.prototype.readDoubleLE=function(s,c){return s=s>>>0,c||se(s,8,this.length),e.read(this,s,!0,52,8)},i.prototype.readDoubleBE=function(s,c){return s=s>>>0,c||se(s,8,this.length),e.read(this,s,!1,52,8)};function ye(d,s,c,g,S,N){if(!i.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>S||s<N)throw new RangeError('"value" argument is out of bounds');if(c+g>d.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(s,c,g,S){if(s=+s,c=c>>>0,g=g>>>0,!S){let $=Math.pow(2,8*g)-1;ye(this,s,c,g,$,0)}let N=1,T=0;for(this[c]=s&255;++T<g&&(N*=256);)this[c+T]=s/N&255;return c+g},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(s,c,g,S){if(s=+s,c=c>>>0,g=g>>>0,!S){let $=Math.pow(2,8*g)-1;ye(this,s,c,g,$,0)}let N=g-1,T=1;for(this[c+N]=s&255;--N>=0&&(T*=256);)this[c+N]=s/T&255;return c+g},i.prototype.writeUint8=i.prototype.writeUInt8=function(s,c,g){return s=+s,c=c>>>0,g||ye(this,s,c,1,255,0),this[c]=s&255,c+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(s,c,g){return s=+s,c=c>>>0,g||ye(this,s,c,2,65535,0),this[c]=s&255,this[c+1]=s>>>8,c+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(s,c,g){return s=+s,c=c>>>0,g||ye(this,s,c,2,65535,0),this[c]=s>>>8,this[c+1]=s&255,c+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(s,c,g){return s=+s,c=c>>>0,g||ye(this,s,c,4,4294967295,0),this[c+3]=s>>>24,this[c+2]=s>>>16,this[c+1]=s>>>8,this[c]=s&255,c+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(s,c,g){return s=+s,c=c>>>0,g||ye(this,s,c,4,4294967295,0),this[c]=s>>>24,this[c+1]=s>>>16,this[c+2]=s>>>8,this[c+3]=s&255,c+4};function Di(d,s,c,g,S){ji(s,g,S,d,c,7);let N=Number(s&BigInt(4294967295));d[c++]=N,N=N>>8,d[c++]=N,N=N>>8,d[c++]=N,N=N>>8,d[c++]=N;let T=Number(s>>BigInt(32)&BigInt(4294967295));return d[c++]=T,T=T>>8,d[c++]=T,T=T>>8,d[c++]=T,T=T>>8,d[c++]=T,c}function _i(d,s,c,g,S){ji(s,g,S,d,c,7);let N=Number(s&BigInt(4294967295));d[c+7]=N,N=N>>8,d[c+6]=N,N=N>>8,d[c+5]=N,N=N>>8,d[c+4]=N;let T=Number(s>>BigInt(32)&BigInt(4294967295));return d[c+3]=T,T=T>>8,d[c+2]=T,T=T>>8,d[c+1]=T,T=T>>8,d[c]=T,c+8}i.prototype.writeBigUInt64LE=it(function(s,c=0){return Di(this,s,c,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=it(function(s,c=0){return _i(this,s,c,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(s,c,g,S){if(s=+s,c=c>>>0,!S){let te=Math.pow(2,8*g-1);ye(this,s,c,g,te-1,-te)}let N=0,T=1,$=0;for(this[c]=s&255;++N<g&&(T*=256);)s<0&&$===0&&this[c+N-1]!==0&&($=1),this[c+N]=(s/T>>0)-$&255;return c+g},i.prototype.writeIntBE=function(s,c,g,S){if(s=+s,c=c>>>0,!S){let te=Math.pow(2,8*g-1);ye(this,s,c,g,te-1,-te)}let N=g-1,T=1,$=0;for(this[c+N]=s&255;--N>=0&&(T*=256);)s<0&&$===0&&this[c+N+1]!==0&&($=1),this[c+N]=(s/T>>0)-$&255;return c+g},i.prototype.writeInt8=function(s,c,g){return s=+s,c=c>>>0,g||ye(this,s,c,1,127,-128),s<0&&(s=255+s+1),this[c]=s&255,c+1},i.prototype.writeInt16LE=function(s,c,g){return s=+s,c=c>>>0,g||ye(this,s,c,2,32767,-32768),this[c]=s&255,this[c+1]=s>>>8,c+2},i.prototype.writeInt16BE=function(s,c,g){return s=+s,c=c>>>0,g||ye(this,s,c,2,32767,-32768),this[c]=s>>>8,this[c+1]=s&255,c+2},i.prototype.writeInt32LE=function(s,c,g){return s=+s,c=c>>>0,g||ye(this,s,c,4,2147483647,-2147483648),this[c]=s&255,this[c+1]=s>>>8,this[c+2]=s>>>16,this[c+3]=s>>>24,c+4},i.prototype.writeInt32BE=function(s,c,g){return s=+s,c=c>>>0,g||ye(this,s,c,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[c]=s>>>24,this[c+1]=s>>>16,this[c+2]=s>>>8,this[c+3]=s&255,c+4},i.prototype.writeBigInt64LE=it(function(s,c=0){return Di(this,s,c,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=it(function(s,c=0){return _i(this,s,c,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ri(d,s,c,g,S,N){if(c+g>d.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function Ti(d,s,c,g,S){return s=+s,c=c>>>0,S||Ri(d,s,c,4),e.write(d,s,c,g,23,4),c+4}i.prototype.writeFloatLE=function(s,c,g){return Ti(this,s,c,!0,g)},i.prototype.writeFloatBE=function(s,c,g){return Ti(this,s,c,!1,g)};function Oi(d,s,c,g,S){return s=+s,c=c>>>0,S||Ri(d,s,c,8),e.write(d,s,c,g,52,8),c+8}i.prototype.writeDoubleLE=function(s,c,g){return Oi(this,s,c,!0,g)},i.prototype.writeDoubleBE=function(s,c,g){return Oi(this,s,c,!1,g)},i.prototype.copy=function(s,c,g,S){if(!i.isBuffer(s))throw new TypeError("argument should be a Buffer");if(g||(g=0),!S&&S!==0&&(S=this.length),c>=s.length&&(c=s.length),c||(c=0),S>0&&S<g&&(S=g),S===g||s.length===0||this.length===0)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("sourceEnd out of bounds");S>this.length&&(S=this.length),s.length-c<S-g&&(S=s.length-c+g);let N=S-g;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(c,g,S):Uint8Array.prototype.set.call(s,this.subarray(g,S),c),N},i.prototype.fill=function(s,c,g,S){if(typeof s=="string"){if(typeof c=="string"?(S=c,c=0,g=this.length):typeof g=="string"&&(S=g,g=this.length),S!==void 0&&typeof S!="string")throw new TypeError("encoding must be a string");if(typeof S=="string"&&!i.isEncoding(S))throw new TypeError("Unknown encoding: "+S);if(s.length===1){let T=s.charCodeAt(0);(S==="utf8"&&T<128||S==="latin1")&&(s=T)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(c<0||this.length<c||this.length<g)throw new RangeError("Out of range index");if(g<=c)return this;c=c>>>0,g=g===void 0?this.length:g>>>0,s||(s=0);let N;if(typeof s=="number")for(N=c;N<g;++N)this[N]=s;else{let T=i.isBuffer(s)?s:i.from(s,S),$=T.length;if($===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(N=0;N<g-c;++N)this[N+c]=T[N%$]}return this};let kt={};function wr(d,s,c){kt[d]=class extends c{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(S){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:S,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}}}wr("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),wr("ERR_INVALID_ARG_TYPE",function(d,s){return`The "${d}" argument must be of type number. Received type ${typeof s}`},TypeError),wr("ERR_OUT_OF_RANGE",function(d,s,c){let g=`The value of "${d}" is out of range.`,S=c;return Number.isInteger(c)&&Math.abs(c)>2**32?S=Li(String(c)):typeof c=="bigint"&&(S=String(c),(c>BigInt(2)**BigInt(32)||c<-(BigInt(2)**BigInt(32)))&&(S=Li(S)),S+="n"),g+=` It must be ${s}. Received ${S}`,g},RangeError);function Li(d){let s="",c=d.length,g=d[0]==="-"?1:0;for(;c>=g+4;c-=3)s=`_${d.slice(c-3,c)}${s}`;return`${d.slice(0,c)}${s}`}function $c(d,s,c){Ut(s,"offset"),(d[s]===void 0||d[s+c]===void 0)&&Zt(s,d.length-(c+1))}function ji(d,s,c,g,S,N){if(d>c||d<s){let T=typeof s=="bigint"?"n":"",$;throw s===0||s===BigInt(0)?$=`>= 0${T} and < 2${T} ** ${(N+1)*8}${T}`:$=`>= -(2${T} ** ${(N+1)*8-1}${T}) and < 2 ** ${(N+1)*8-1}${T}`,new kt.ERR_OUT_OF_RANGE("value",$,d)}$c(g,S,N)}function Ut(d,s){if(typeof d!="number")throw new kt.ERR_INVALID_ARG_TYPE(s,"number",d)}function Zt(d,s,c){throw Math.floor(d)!==d?(Ut(d,c),new kt.ERR_OUT_OF_RANGE("offset","an integer",d)):s<0?new kt.ERR_BUFFER_OUT_OF_BOUNDS:new kt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${s}`,d)}let qc=/[^+/0-9A-Za-z-_]/g;function Hc(d){if(d=d.split("=")[0],d=d.trim().replace(qc,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}function vr(d,s){s=s||1/0;let c,g=d.length,S=null,N=[];for(let T=0;T<g;++T){if(c=d.charCodeAt(T),c>55295&&c<57344){if(!S){if(c>56319){(s-=3)>-1&&N.push(239,191,189);continue}else if(T+1===g){(s-=3)>-1&&N.push(239,191,189);continue}S=c;continue}if(c<56320){(s-=3)>-1&&N.push(239,191,189),S=c;continue}c=(S-55296<<10|c-56320)+65536}else S&&(s-=3)>-1&&N.push(239,191,189);if(S=null,c<128){if((s-=1)<0)break;N.push(c)}else if(c<2048){if((s-=2)<0)break;N.push(c>>6|192,c&63|128)}else if(c<65536){if((s-=3)<0)break;N.push(c>>12|224,c>>6&63|128,c&63|128)}else if(c<1114112){if((s-=4)<0)break;N.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw new Error("Invalid code point")}return N}function Gc(d){let s=[];for(let c=0;c<d.length;++c)s.push(d.charCodeAt(c)&255);return s}function Vc(d,s){let c,g,S,N=[];for(let T=0;T<d.length&&!((s-=2)<0);++T)c=d.charCodeAt(T),g=c>>8,S=c%256,N.push(S),N.push(g);return N}function Ci(d){return t.toByteArray(Hc(d))}function Sn(d,s,c,g){let S;for(S=0;S<g&&!(S+c>=s.length||S>=d.length);++S)s[S+c]=d[S];return S}function Je(d,s){return d instanceof s||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===s.name}function br(d){return d!==d}let zc=function(){let d="0123456789abcdef",s=new Array(256);for(let c=0;c<16;++c){let g=c*16;for(let S=0;S<16;++S)s[g+S]=d[c]+d[S]}return s}();function it(d){return typeof BigInt>"u"?Wc:d}function Wc(){throw new Error("BigInt not supported")}return mt}var en,ts,_n,ns,mt,rs,os=Bt(()=>{v();I();b();en={},ts=!1;_n={},ns=!1;mt={},rs=!1});var yt,L,Wd,Xd,ss=Bt(()=>{v();I();b();os();yt=is();yt.Buffer;yt.SlowBuffer;yt.INSPECT_MAX_BYTES;yt.kMaxLength;L=yt.Buffer,Wd=yt.INSPECT_MAX_BYTES,Xd=yt.kMaxLength});var I=Bt(()=>{ss()});var us=J((We,ls)=>{v();I();b();var cs=typeof self<"u"?self:We,Rn=function(){function t(){this.fetch=!1,this.DOMException=cs.DOMException}return t.prototype=cs,new t}();(function(t){var e=function(n){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function o(D){return D&&DataView.prototype.isPrototypeOf(D)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(D){return D&&a.indexOf(Object.prototype.toString.call(D))>-1};function l(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(D))throw new TypeError("Invalid character in header field name");return D.toLowerCase()}function p(D){return typeof D!="string"&&(D=String(D)),D}function h(D){var U={next:function(){var P=D.shift();return{done:P===void 0,value:P}}};return r.iterable&&(U[Symbol.iterator]=function(){return U}),U}function m(D){this.map={},D instanceof m?D.forEach(function(U,P){this.append(P,U)},this):Array.isArray(D)?D.forEach(function(U){this.append(U[0],U[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(U){this.append(U,D[U])},this)}m.prototype.append=function(D,U){D=l(D),U=p(U);var P=this.map[D];this.map[D]=P?P+", "+U:U},m.prototype.delete=function(D){delete this.map[l(D)]},m.prototype.get=function(D){return D=l(D),this.has(D)?this.map[D]:null},m.prototype.has=function(D){return this.map.hasOwnProperty(l(D))},m.prototype.set=function(D,U){this.map[l(D)]=p(U)},m.prototype.forEach=function(D,U){for(var P in this.map)this.map.hasOwnProperty(P)&&D.call(U,this.map[P],P,this)},m.prototype.keys=function(){var D=[];return this.forEach(function(U,P){D.push(P)}),h(D)},m.prototype.values=function(){var D=[];return this.forEach(function(U){D.push(U)}),h(D)},m.prototype.entries=function(){var D=[];return this.forEach(function(U,P){D.push([P,U])}),h(D)},r.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function y(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function w(D){return new Promise(function(U,P){D.onload=function(){U(D.result)},D.onerror=function(){P(D.error)}})}function u(D){var U=new FileReader,P=w(U);return U.readAsArrayBuffer(D),P}function f(D){var U=new FileReader,P=w(U);return U.readAsText(D),P}function x(D){for(var U=new Uint8Array(D),P=new Array(U.length),oe=0;oe<U.length;oe++)P[oe]=String.fromCharCode(U[oe]);return P.join("")}function E(D){if(D.slice)return D.slice(0);var U=new Uint8Array(D.byteLength);return U.set(new Uint8Array(D)),U.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(D){this._bodyInit=D,D?typeof D=="string"?this._bodyText=D:r.blob&&Blob.prototype.isPrototypeOf(D)?this._bodyBlob=D:r.formData&&FormData.prototype.isPrototypeOf(D)?this._bodyFormData=D:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)?this._bodyText=D.toString():r.arrayBuffer&&r.blob&&o(D)?(this._bodyArrayBuffer=E(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(D)||i(D))?this._bodyArrayBuffer=E(D):this._bodyText=D=Object.prototype.toString.call(D):this._bodyText="",this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var D=y(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var D=y(this);if(D)return D;if(this._bodyBlob)return f(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function C(D){var U=D.toUpperCase();return _.indexOf(U)>-1?U:D}function R(D,U){U=U||{};var P=U.body;if(D instanceof R){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,U.headers||(this.headers=new m(D.headers)),this.method=D.method,this.mode=D.mode,this.signal=D.signal,!P&&D._bodyInit!=null&&(P=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=U.credentials||this.credentials||"same-origin",(U.headers||!this.headers)&&(this.headers=new m(U.headers)),this.method=C(U.method||this.method||"GET"),this.mode=U.mode||this.mode||null,this.signal=U.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(P)}R.prototype.clone=function(){return new R(this,{body:this._bodyInit})};function B(D){var U=new FormData;return D.trim().split("&").forEach(function(P){if(P){var oe=P.split("="),re=oe.shift().replace(/\+/g," "),W=oe.join("=").replace(/\+/g," ");U.append(decodeURIComponent(re),decodeURIComponent(W))}}),U}function k(D){var U=new m,P=D.replace(/\r?\n[\t ]+/g," ");return P.split(/\r?\n/).forEach(function(oe){var re=oe.split(":"),W=re.shift().trim();if(W){var Ct=re.join(":").trim();U.append(W,Ct)}}),U}A.call(R.prototype);function G(D,U){U||(U={}),this.type="default",this.status=U.status===void 0?200:U.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in U?U.statusText:"OK",this.headers=new m(U.headers),this.url=U.url||"",this._initBody(D)}A.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},G.error=function(){var D=new G(null,{status:0,statusText:""});return D.type="error",D};var z=[301,302,303,307,308];G.redirect=function(D,U){if(z.indexOf(U)===-1)throw new RangeError("Invalid status code");return new G(null,{status:U,headers:{location:D}})},n.DOMException=t.DOMException;try{new n.DOMException}catch{n.DOMException=function(U,P){this.message=U,this.name=P;var oe=Error(U);this.stack=oe.stack},n.DOMException.prototype=Object.create(Error.prototype),n.DOMException.prototype.constructor=n.DOMException}function Q(D,U){return new Promise(function(P,oe){var re=new R(D,U);if(re.signal&&re.signal.aborted)return oe(new n.DOMException("Aborted","AbortError"));var W=new XMLHttpRequest;function Ct(){W.abort()}W.onload=function(){var ht={status:W.status,statusText:W.statusText,headers:k(W.getAllResponseHeaders()||"")};ht.url="responseURL"in W?W.responseURL:ht.headers.get("X-Request-URL");var Yt="response"in W?W.response:W.responseText;P(new G(Yt,ht))},W.onerror=function(){oe(new TypeError("Network request failed"))},W.ontimeout=function(){oe(new TypeError("Network request failed"))},W.onabort=function(){oe(new n.DOMException("Aborted","AbortError"))},W.open(re.method,re.url,!0),re.credentials==="include"?W.withCredentials=!0:re.credentials==="omit"&&(W.withCredentials=!1),"responseType"in W&&r.blob&&(W.responseType="blob"),re.headers.forEach(function(ht,Yt){W.setRequestHeader(Yt,ht)}),re.signal&&(re.signal.addEventListener("abort",Ct),W.onreadystatechange=function(){W.readyState===4&&re.signal.removeEventListener("abort",Ct)}),W.send(typeof re._bodyInit>"u"?null:re._bodyInit)})}return Q.polyfill=!0,t.fetch||(t.fetch=Q,t.Headers=m,t.Request=R,t.Response=G),n.Headers=m,n.Request=R,n.Response=G,n.fetch=Q,Object.defineProperty(n,"__esModule",{value:!0}),n}({})})(Rn);Rn.fetch.ponyfill=!0;delete Rn.fetch.polyfill;var Pt=Rn;We=Pt.fetch;We.default=Pt.fetch;We.fetch=Pt.fetch;We.Headers=Pt.Headers;We.Request=Pt.Request;We.Response=Pt.Response;ls.exports=We});var Kn=J((Zm,Os)=>{"use strict";v();I();b();Os.exports=class Ts{constructor(e,n=new Map,r=0){this.prefix=e,this._existing=n,this.counter=r}clone(){let{prefix:e,_existing:n,counter:r}=this;return new Ts(e,new Map(n),r)}getId(e){let n=e&&this._existing.get(e);if(n)return n;let r=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,r),r}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}});var js=J(Ls=>{v();I();b();(function(t,e){"use strict";if(t.setImmediate)return;var n=1,r={},o=!1,a=t.document,i;function l(_){typeof _!="function"&&(_=new Function(""+_));for(var C=new Array(arguments.length-1),R=0;R<C.length;R++)C[R]=arguments[R+1];var B={callback:_,args:C};return r[n]=B,i(n),n++}function p(_){delete r[_]}function h(_){var C=_.callback,R=_.args;switch(R.length){case 0:C();break;case 1:C(R[0]);break;case 2:C(R[0],R[1]);break;case 3:C(R[0],R[1],R[2]);break;default:C.apply(e,R);break}}function m(_){if(o)setTimeout(m,0,_);else{var C=r[_];if(C){o=!0;try{h(C)}finally{p(_),o=!1}}}}function y(){i=function(_){O.nextTick(function(){m(_)})}}function w(){if(t.postMessage&&!t.importScripts){var _=!0,C=t.onmessage;return t.onmessage=function(){_=!1},t.postMessage("","*"),t.onmessage=C,_}}function u(){var _="setImmediate$"+Math.random()+"$",C=function(R){R.source===t&&typeof R.data=="string"&&R.data.indexOf(_)===0&&m(+R.data.slice(_.length))};t.addEventListener?t.addEventListener("message",C,!1):t.attachEvent("onmessage",C),i=function(R){t.postMessage(_+R,"*")}}function f(){var _=new MessageChannel;_.port1.onmessage=function(C){var R=C.data;m(R)},i=function(C){_.port2.postMessage(C)}}function x(){var _=a.documentElement;i=function(C){var R=a.createElement("script");R.onreadystatechange=function(){m(C),R.onreadystatechange=null,_.removeChild(R),R=null},_.appendChild(R)}}function E(){i=function(_){setTimeout(m,0,_)}}var A=Object.getPrototypeOf&&Object.getPrototypeOf(t);A=A&&A.setTimeout?A:t,{}.toString.call(t.process)==="[object process]"?y():w()?u():t.MessageChannel?f():a&&"onreadystatechange"in a.createElement("script")?x():E(),A.setImmediate=l,A.clearImmediate=p})(typeof self>"u"?typeof global>"u"?Ls:global:self)});var ln=J((cy,Cs)=>{"use strict";v();I();b();js();var Ur=self.crypto||self.msCrypto;Cs.exports=class{constructor(e){if(!(Ur&&Ur.subtle))throw new Error("crypto.subtle not found.");if(e==="sha256")this.algorithm={name:"SHA-256"};else if(e==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${e}".`);this._content=""}update(e){this._content+=e}async digest(){let e=new TextEncoder().encode(this._content),n=new Uint8Array(await Ur.subtle.digest(this.algorithm,e)),r="";for(let o=0;o<n.length;++o)r+=n[o].toString(16).padStart(2,"0");return r}}});var Br=J((fy,ks)=>{"use strict";v();I();b();ks.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let n=0;n<e.length;++n)this.dir.set(e[n],!0)}hasNext(){return!this.done}next(){let{current:e,dir:n}=this,r=e.slice(),o=null,a=0,i=e.length;for(let l=0;l<i;++l){let p=e[l],h=n.get(p);(o===null||p>o)&&(h&&l>0&&p>e[l-1]||!h&&l<i-1&&p>e[l+1])&&(o=p,a=l)}if(o===null)this.done=!0;else{let l=n.get(o)?a-1:a+1;e[a]=e[l],e[l]=o;for(let p of e)p>o&&n.set(p,!n.get(p))}return r}}});var Zn=J((yy,Bs)=>{"use strict";v();I();b();var Ll="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Mr=Ll+"langString",Pr="http://www.w3.org/2001/XMLSchema#string",Ue="NamedNode",xt="BlankNode",Qn="Literal",Us="DefaultGraph",qt={};(()=>{let t="(?:<([^:]+:[^>]*)>)",n="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD"+"_",r=n+"0-9-\xB7\u0300-\u036F\u203F-\u2040",a="(_:(?:["+n+"0-9])(?:(?:["+r+".])*(?:["+r+"]))?)",i='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',l="(?:\\^\\^"+t+")",h="(?:"+i+"(?:"+l+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",m="[ \\t]+",y="[ \\t]*",w="(?:"+t+"|"+a+")"+m,u=t+m,f="(?:"+t+"|"+a+"|"+h+")"+y,x="(?:\\.|(?:(?:"+t+"|"+a+")"+y+"\\.))";qt.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,qt.empty=new RegExp("^"+y+"$"),qt.quad=new RegExp("^"+y+w+u+f+x+y+"$")})();Bs.exports=class Yn{static parse(e){let n=[],r={},o=e.split(qt.eoln),a=0;for(let i of o){if(a++,qt.empty.test(i))continue;let l=i.match(qt.quad);if(l===null)throw new Error("N-Quads parse error on line "+a+".");let p={subject:null,predicate:null,object:null,graph:null};if(l[1]!==void 0?p.subject={termType:Ue,value:l[1]}:p.subject={termType:xt,value:l[2]},p.predicate={termType:Ue,value:l[3]},l[4]!==void 0?p.object={termType:Ue,value:l[4]}:l[5]!==void 0?p.object={termType:xt,value:l[5]}:(p.object={termType:Qn,value:void 0,datatype:{termType:Ue}},l[7]!==void 0?p.object.datatype.value=l[7]:l[8]!==void 0?(p.object.datatype.value=Mr,p.object.language=l[8]):p.object.datatype.value=Pr,p.object.value=Bl(l[6])),l[9]!==void 0?p.graph={termType:Ue,value:l[9]}:l[10]!==void 0?p.graph={termType:xt,value:l[10]}:p.graph={termType:Us,value:""},!(p.graph.value in r))r[p.graph.value]=[p],n.push(p);else{let h=!0,m=r[p.graph.value];for(let y of m)if(jl(y,p)){h=!1;break}h&&(m.push(p),n.push(p))}}return n}static serialize(e){Array.isArray(e)||(e=Yn.legacyDatasetToQuads(e));let n=[];for(let r of e)n.push(Yn.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(e,n,r,o){let a="";return e.termType===Ue?a+=`<${e.value}>`:a+=`${e.value}`,a+=` <${n.value}> `,r.termType===Ue?a+=`<${r.value}>`:r.termType===xt?a+=r.value:(a+=`"${kl(r.value)}"`,r.datatype.value===Mr?r.language&&(a+=`@${r.language}`):r.datatype.value!==Pr&&(a+=`^^<${r.datatype.value}>`)),o.termType===Ue?a+=` <${o.value}>`:o.termType===xt&&(a+=` ${o.value}`),a+=` .
`,a}static serializeQuad(e){return Yn.serializeQuadComponents(e.subject,e.predicate,e.object,e.graph)}static legacyDatasetToQuads(e){let n=[],r={"blank node":xt,IRI:Ue,literal:Qn};for(let o in e)e[o].forEach(i=>{let l={};for(let p in i){let h=i[p],m={termType:r[h.type],value:h.value};m.termType===Qn&&(m.datatype={termType:Ue},"datatype"in h&&(m.datatype.value=h.datatype),"language"in h?("datatype"in h||(m.datatype.value=Mr),m.language=h.language):"datatype"in h||(m.datatype.value=Pr)),l[p]=m}o==="@default"?l.graph={termType:Us,value:""}:l.graph={termType:o.startsWith("_:")?xt:Ue,value:o},n.push(l)});return n}};function jl(t,e){return!(t.subject.termType===e.subject.termType&&t.object.termType===e.object.termType)||!(t.subject.value===e.subject.value&&t.predicate.value===e.predicate.value&&t.object.value===e.object.value)?!1:t.object.termType!==Qn?!0:t.object.datatype.termType===e.object.datatype.termType&&t.object.language===e.object.language&&t.object.datatype.value===e.object.datatype.value}var Cl=/["\\\n\r]/g;function kl(t){return t.replace(Cl,function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}var Ul=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function Bl(t){return t.replace(Ul,function(e,n,r,o){if(n)switch(n){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(o)throw new Error("Unsupported U escape")})}});var Jr=J((Ey,Js)=>{"use strict";v();I();b();var Ms=Kn(),Ml=ln(),Pl=Br(),Ps=Zn();Js.exports=class{constructor({createMessageDigest:e=()=>new Ml("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Ms("_:c14n",n),this.createMessageDigest=e,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}async main(e){this.deepIterations=new Map,this.quads=e;for(let p of e)this._addBlankNodeQuadInfo({quad:p,component:p.subject}),this._addBlankNodeQuadInfo({quad:p,component:p.object}),this._addBlankNodeQuadInfo({quad:p,component:p.graph});let n=new Map,r=[...this.blankNodeInfo.keys()],o=0;for(let p of r)++o%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:p,hashToBlankNodes:n});let a=[...n.keys()].sort(),i=[];for(let p of a){let h=n.get(p);if(h.length>1){i.push(h);continue}let m=h[0];this.canonicalIssuer.getId(m)}for(let p of i){let h=[];for(let m of p){if(this.canonicalIssuer.hasId(m))continue;let y=new Ms("_:b");y.getId(m);let w=await this.hashNDegreeQuads(m,y);h.push(w)}h.sort(Jl);for(let m of h){let y=m.issuer.getOldIds();for(let w of y)this.canonicalIssuer.getId(w)}}let l=[];for(let p of this.quads){let h=Ps.serializeQuadComponents(this._componentWithCanonicalId(p.subject),p.predicate,this._componentWithCanonicalId(p.object),this._componentWithCanonicalId(p.graph));l.push(h)}return l.sort(),l.join("")}async hashFirstDegreeQuads(e){let n=[],r=this.blankNodeInfo.get(e),o=r.quads;for(let i of o){let l={subject:null,predicate:i.predicate,object:null,graph:null};l.subject=this.modifyFirstDegreeComponent(e,i.subject,"subject"),l.object=this.modifyFirstDegreeComponent(e,i.object,"object"),l.graph=this.modifyFirstDegreeComponent(e,i.graph,"graph"),n.push(Ps.serializeQuad(l))}n.sort();let a=this.createMessageDigest();for(let i of n)a.update(i);return r.hash=await a.digest(),r.hash}async hashRelatedBlankNode(e,n,r,o){let a;this.canonicalIssuer.hasId(e)?a=this.canonicalIssuer.getId(e):r.hasId(e)?a=r.getId(e):a=this.blankNodeInfo.get(e).hash;let i=this.createMessageDigest();return i.update(o),o!=="g"&&i.update(this.getRelatedPredicate(n)),i.update(a),i.digest()}async hashNDegreeQuads(e,n){let r=this.deepIterations.get(e)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(e,r+1);let o=this.createMessageDigest(),a=await this.createHashToRelated(e,n),i=[...a.keys()].sort();for(let l of i){o.update(l);let p="",h,m=new Pl(a.get(l)),y=0;for(;m.hasNext();){let w=m.next();++y%3===0&&await this._yield();let u=n.clone(),f="",x=[],E=!1;for(let A of w)if(this.canonicalIssuer.hasId(A)?f+=this.canonicalIssuer.getId(A):(u.hasId(A)||x.push(A),f+=u.getId(A)),p.length!==0&&f>p){E=!0;break}if(!E){for(let A of x){let _=await this.hashNDegreeQuads(A,u);if(f+=u.getId(A),f+=`<${_.hash}>`,u=_.issuer,p.length!==0&&f>p){E=!0;break}}E||(p.length===0||f<p)&&(p=f,h=u)}}o.update(p),n=h}return{hash:await o.digest(),issuer:n}}modifyFirstDegreeComponent(e,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,n){let r=new Map,o=this.blankNodeInfo.get(e).quads,a=0;for(let i of o)++a%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:n,hashToRelated:r})]);return r}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:n}){let r=await this.hashFirstDegreeQuads(e),o=n.get(r);o?o.push(e):n.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:n}){if(n.termType!=="BlankNode")return;let r=n.value,o=this.blankNodeInfo.get(r);o?o.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:n,position:r,id:o,issuer:a,hashToRelated:i}){if(!(n.termType==="BlankNode"&&n.value!==o))return;let l=n.value,p=await this.hashRelatedBlankNode(l,e,a,r),h=i.get(p);h?h.push(l):i.set(p,[l])}_componentWithCanonicalId(e){return e.termType==="BlankNode"&&!e.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}:e}async _yield(){return new Promise(e=>setImmediate(e))}};function Jl(t,e){return t.hash<e.hash?-1:t.hash>e.hash?1:0}});var $s=J((Dy,Fs)=>{"use strict";v();I();b();var Fl=ln(),$l=Jr();Fs.exports=class extends $l{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new Fl("sha1")}modifyFirstDegreeComponent(e,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,n){let r=new Map,o=this.blankNodeInfo.get(e).quads,a=0;for(let i of o){let l,p;if(i.subject.termType==="BlankNode"&&i.subject.value!==e)p=i.subject.value,l="p";else if(i.object.termType==="BlankNode"&&i.object.value!==e)p=i.object.value,l="r";else continue;++a%100===0&&await this._yield();let h=await this.hashRelatedBlankNode(p,i,n,l),m=r.get(h);m?m.push(p):r.set(h,[p])}return r}}});var Fr=J((Ly,Gs)=>{"use strict";v();I();b();var qs=Kn(),ql=ln(),Hl=Br(),Hs=Zn();Gs.exports=class{constructor({createMessageDigest:e=()=>new ql("sha256"),canonicalIdMap:n=new Map,maxDeepIterations:r=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new qs("_:c14n",n),this.createMessageDigest=e,this.maxDeepIterations=r,this.quads=null,this.deepIterations=null}main(e){this.deepIterations=new Map,this.quads=e;for(let l of e)this._addBlankNodeQuadInfo({quad:l,component:l.subject}),this._addBlankNodeQuadInfo({quad:l,component:l.object}),this._addBlankNodeQuadInfo({quad:l,component:l.graph});let n=new Map,r=[...this.blankNodeInfo.keys()];for(let l of r)this._hashAndTrackBlankNode({id:l,hashToBlankNodes:n});let o=[...n.keys()].sort(),a=[];for(let l of o){let p=n.get(l);if(p.length>1){a.push(p);continue}let h=p[0];this.canonicalIssuer.getId(h)}for(let l of a){let p=[];for(let h of l){if(this.canonicalIssuer.hasId(h))continue;let m=new qs("_:b");m.getId(h);let y=this.hashNDegreeQuads(h,m);p.push(y)}p.sort(Gl);for(let h of p){let m=h.issuer.getOldIds();for(let y of m)this.canonicalIssuer.getId(y)}}let i=[];for(let l of this.quads){let p=Hs.serializeQuadComponents(this._componentWithCanonicalId({component:l.subject}),l.predicate,this._componentWithCanonicalId({component:l.object}),this._componentWithCanonicalId({component:l.graph}));i.push(p)}return i.sort(),i.join("")}hashFirstDegreeQuads(e){let n=[],r=this.blankNodeInfo.get(e),o=r.quads;for(let i of o){let l={subject:null,predicate:i.predicate,object:null,graph:null};l.subject=this.modifyFirstDegreeComponent(e,i.subject,"subject"),l.object=this.modifyFirstDegreeComponent(e,i.object,"object"),l.graph=this.modifyFirstDegreeComponent(e,i.graph,"graph"),n.push(Hs.serializeQuad(l))}n.sort();let a=this.createMessageDigest();for(let i of n)a.update(i);return r.hash=a.digest(),r.hash}hashRelatedBlankNode(e,n,r,o){let a;this.canonicalIssuer.hasId(e)?a=this.canonicalIssuer.getId(e):r.hasId(e)?a=r.getId(e):a=this.blankNodeInfo.get(e).hash;let i=this.createMessageDigest();return i.update(o),o!=="g"&&i.update(this.getRelatedPredicate(n)),i.update(a),i.digest()}hashNDegreeQuads(e,n){let r=this.deepIterations.get(e)||0;if(r>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(e,r+1);let o=this.createMessageDigest(),a=this.createHashToRelated(e,n),i=[...a.keys()].sort();for(let l of i){o.update(l);let p="",h,m=new Hl(a.get(l));for(;m.hasNext();){let y=m.next(),w=n.clone(),u="",f=[],x=!1;for(let E of y)if(this.canonicalIssuer.hasId(E)?u+=this.canonicalIssuer.getId(E):(w.hasId(E)||f.push(E),u+=w.getId(E)),p.length!==0&&u>p){x=!0;break}if(!x){for(let E of f){let A=this.hashNDegreeQuads(E,w);if(u+=w.getId(E),u+=`<${A.hash}>`,w=A.issuer,p.length!==0&&u>p){x=!0;break}}x||(p.length===0||u<p)&&(p=u,h=w)}}o.update(p),n=h}return{hash:o.digest(),issuer:n}}modifyFirstDegreeComponent(e,n){return n.termType!=="BlankNode"?n:{termType:"BlankNode",value:n.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,n){let r=new Map,o=this.blankNodeInfo.get(e).quads;for(let a of o)this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:e,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:e,issuer:n,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:e,issuer:n,hashToRelated:r});return r}_hashAndTrackBlankNode({id:e,hashToBlankNodes:n}){let r=this.hashFirstDegreeQuads(e),o=n.get(r);o?o.push(e):n.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:n}){if(n.termType!=="BlankNode")return;let r=n.value,o=this.blankNodeInfo.get(r);o?o.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:n,position:r,id:o,issuer:a,hashToRelated:i}){if(!(n.termType==="BlankNode"&&n.value!==o))return;let l=n.value,p=this.hashRelatedBlankNode(l,e,a,r),h=i.get(p);h?h.push(l):i.set(p,[l])}_componentWithCanonicalId({component:e}){return e.termType==="BlankNode"&&!e.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}:e}};function Gl(t,e){return t.hash<e.hash?-1:t.hash>e.hash?1:0}});var zs=J((By,Vs)=>{"use strict";v();I();b();var Vl=ln(),zl=Fr();Vs.exports=class extends zl{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new Vl("sha1")}modifyFirstDegreeComponent(e,n,r){return n.termType!=="BlankNode"?n:r==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:n.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,n){let r=new Map,o=this.blankNodeInfo.get(e).quads;for(let a of o){let i,l;if(a.subject.termType==="BlankNode"&&a.subject.value!==e)l=a.subject.value,i="p";else if(a.object.termType==="BlankNode"&&a.object.value!==e)l=a.object.value,i="r";else continue;let p=this.hashRelatedBlankNode(l,a,n,i),h=r.get(p);h?h.push(l):r.set(p,[l])}return r}}});var Ws=J(()=>{v();I();b()});var Ks=J(At=>{"use strict";v();I();b();var Wl=Jr(),Xl=$s(),Kl=Fr(),Ql=zs(),St;try{St=Ws()}catch{}function Xs(t){return Array.isArray(t)?t:At.NQuads.legacyDatasetToQuads(t)}At.NQuads=Zn();At.IdentifierIssuer=Kn();At._rdfCanonizeNative=function(t){return t&&(St=t),St};At.canonize=async function(t,e){let n=Xs(t,e);if(e.useNative){if(!St)throw new Error("rdf-canonize-native not available");if(e.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((r,o)=>St.canonize(n,e,(a,i)=>a?o(a):r(i)))}if(e.algorithm==="URDNA2015")return new Wl(e).main(n);if(e.algorithm==="URGNA2012"){if(e.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new Xl(e).main(n)}throw"algorithm"in e?new Error("Invalid RDF Dataset Canonicalization algorithm: "+e.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")};At._canonizeSync=function(t,e){let n=Xs(t,e);if(e.useNative){if(!St)throw new Error("rdf-canonize-native not available");if(e.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return St.canonizeSync(n,e)}if(e.algorithm==="URDNA2015")return new Kl(e).main(n);if(e.algorithm==="URGNA2012"){if(e.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new Ql(e).main(n)}throw"algorithm"in e?new Error("Invalid RDF Dataset Canonicalization algorithm: "+e.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}});var er=J((Ky,Qs)=>{v();I();b();Qs.exports=Ks()});var ve=J((ew,Ys)=>{"use strict";v();I();b();var _e={};Ys.exports=_e;_e.isArray=Array.isArray;_e.isBoolean=t=>typeof t=="boolean"||Object.prototype.toString.call(t)==="[object Boolean]";_e.isDouble=t=>_e.isNumber(t)&&(String(t).indexOf(".")!==-1||Math.abs(t)>=1e21);_e.isEmptyObject=t=>_e.isObject(t)&&Object.keys(t).length===0;_e.isNumber=t=>typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]";_e.isNumeric=t=>!isNaN(parseFloat(t))&&isFinite(t);_e.isObject=t=>Object.prototype.toString.call(t)==="[object Object]";_e.isString=t=>typeof t=="string"||Object.prototype.toString.call(t)==="[object String]";_e.isUndefined=t=>typeof t>"u"});var Fe=J((iw,Zs)=>{"use strict";v();I();b();var Nt=ve(),Ke={};Zs.exports=Ke;Ke.isSubject=t=>Nt.isObject(t)&&!("@value"in t||"@set"in t||"@list"in t)?Object.keys(t).length>1||!("@id"in t):!1;Ke.isSubjectReference=t=>Nt.isObject(t)&&Object.keys(t).length===1&&"@id"in t;Ke.isValue=t=>Nt.isObject(t)&&"@value"in t;Ke.isList=t=>Nt.isObject(t)&&"@list"in t;Ke.isGraph=t=>Nt.isObject(t)&&"@graph"in t&&Object.keys(t).filter(e=>e!=="@id"&&e!=="@index").length===1;Ke.isSimpleGraph=t=>Ke.isGraph(t)&&!("@id"in t);Ke.isBlankNode=t=>{if(Nt.isObject(t)){if("@id"in t){let e=t["@id"];return!Nt.isString(e)||e.indexOf("_:")===0}return Object.keys(t).length===0||!("@value"in t||"@set"in t||"@list"in t)}return!1}});var Ie=J((lw,ea)=>{"use strict";v();I();b();ea.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",n="jsonld.Error",r={}){super(e),this.name=n,this.message=e,this.details=r}}});var Ee=J((fw,ra)=>{"use strict";v();I();b();var un=Fe(),de=ve(),na=er().IdentifierIssuer,Yl=Ie(),Zl=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,eu=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,tu=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,nu=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,ru=/^@[a-zA-Z]+$/,ta={headers:{accept:"application/ld+json, application/json"}},V={};ra.exports=V;V.IdentifierIssuer=na;V.REGEX_BCP47=Zl;V.REGEX_KEYWORD=ru;V.clone=function(t){if(t&&typeof t=="object"){let e;if(de.isArray(t)){e=[];for(let n=0;n<t.length;++n)e[n]=V.clone(t[n])}else if(t instanceof Map){e=new Map;for(let[n,r]of t)e.set(n,V.clone(r))}else if(t instanceof Set){e=new Set;for(let n of t)e.add(V.clone(n))}else if(de.isObject(t)){e={};for(let n in t)e[n]=V.clone(t[n])}else e=t.toString();return e}return t};V.asArray=function(t){return Array.isArray(t)?t:[t]};V.buildHeaders=(t={})=>{if(Object.keys(t).some(n=>n.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+ta.headers.accept+'" is supported.');return Object.assign({Accept:ta.headers.accept},t)};V.parseLinkHeader=t=>{let e={},n=t.match(eu);for(let r=0;r<n.length;++r){let o=n[r].match(tu);if(!o)continue;let a={target:o[1]},i=o[2];for(;o=nu.exec(i);)a[o[1]]=o[2]===void 0?o[3]:o[2];let l=a.rel||"";Array.isArray(e[l])?e[l].push(a):e.hasOwnProperty(l)?e[l]=[e[l],a]:e[l]=a}return e};V.validateTypeValue=(t,e)=>{if(!de.isString(t)&&!(de.isArray(t)&&t.every(n=>de.isString(n)))){if(e&&de.isObject(t))switch(Object.keys(t).length){case 0:return;case 1:if("@default"in t&&V.asArray(t["@default"]).every(n=>de.isString(n)))return}throw new Yl('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:t})}};V.hasProperty=(t,e)=>{if(t.hasOwnProperty(e)){let n=t[e];return!de.isArray(n)||n.length>0}return!1};V.hasValue=(t,e,n)=>{if(V.hasProperty(t,e)){let r=t[e],o=un.isList(r);if(de.isArray(r)||o){o&&(r=r["@list"]);for(let a=0;a<r.length;++a)if(V.compareValues(n,r[a]))return!0}else if(!de.isArray(n))return V.compareValues(n,r)}return!1};V.addValue=(t,e,n,r)=>{if(r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)t[e]=n;else if(de.isArray(n)){n.length===0&&r.propertyIsArray&&!t.hasOwnProperty(e)&&(t[e]=[]),r.prependValue&&(n=n.concat(t[e]),t[e]=[]);for(let o=0;o<n.length;++o)V.addValue(t,e,n[o],r)}else if(t.hasOwnProperty(e)){let o=!r.allowDuplicate&&V.hasValue(t,e,n);!de.isArray(t[e])&&(!o||r.propertyIsArray)&&(t[e]=[t[e]]),o||(r.prependValue?t[e].unshift(n):t[e].push(n))}else t[e]=r.propertyIsArray?[n]:n};V.getValues=(t,e)=>[].concat(t[e]||[]);V.removeProperty=(t,e)=>{delete t[e]};V.removeValue=(t,e,n,r)=>{r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1);let o=V.getValues(t,e).filter(a=>!V.compareValues(a,n));o.length===0?V.removeProperty(t,e):o.length===1&&!r.propertyIsArray?t[e]=o[0]:t[e]=o};V.relabelBlankNodes=(t,e)=>{e=e||{};let n=e.issuer||new na("_:b");return tr(n,t)};V.compareValues=(t,e)=>t===e||un.isValue(t)&&un.isValue(e)&&t["@value"]===e["@value"]&&t["@type"]===e["@type"]&&t["@language"]===e["@language"]&&t["@index"]===e["@index"]?!0:de.isObject(t)&&"@id"in t&&de.isObject(e)&&"@id"in e?t["@id"]===e["@id"]:!1;V.compareShortestLeast=(t,e)=>t.length<e.length?-1:e.length<t.length?1:t===e?0:t<e?-1:1;function tr(t,e){if(de.isArray(e))for(let n=0;n<e.length;++n)e[n]=tr(t,e[n]);else if(un.isList(e))e["@list"]=tr(t,e["@list"]);else if(de.isObject(e)){un.isBlankNode(e)&&(e["@id"]=t.getId(e["@id"]));let n=Object.keys(e).sort();for(let r=0;r<n.length;++r){let o=n[r];o!=="@id"&&(e[o]=tr(t,e[o]))}}return e}});var nr=J((yw,ia)=>{"use strict";v();I();b();var Be="http://www.w3.org/1999/02/22-rdf-syntax-ns#",dn="http://www.w3.org/2001/XMLSchema#";ia.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:Be,RDF_LIST:Be+"List",RDF_FIRST:Be+"first",RDF_REST:Be+"rest",RDF_NIL:Be+"nil",RDF_TYPE:Be+"type",RDF_PLAIN_LITERAL:Be+"PlainLiteral",RDF_XML_LITERAL:Be+"XMLLiteral",RDF_JSON_LITERAL:Be+"JSON",RDF_OBJECT:Be+"object",RDF_LANGSTRING:Be+"langString",XSD:dn,XSD_BOOLEAN:dn+"boolean",XSD_DOUBLE:dn+"double",XSD_INTEGER:dn+"integer",XSD_STRING:dn+"string"}});var $r=J((Ew,oa)=>{"use strict";v();I();b();oa.exports=class{constructor(){this._requests={}}wrapLoader(e){let n=this;return n._loader=e,function(){return n.add.apply(n,arguments)}}async add(e){let n=this._requests[e];if(n)return Promise.resolve(n);n=this._requests[e]=this._loader(e);try{return await n}finally{delete this._requests[e]}}}});var Qe=J((Nw,sa)=>{"use strict";v();I();b();var rr=ve(),pe={};sa.exports=pe;pe.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};pe.parse=(t,e)=>{let n={},r=pe.parsers[e||"full"],o=r.regex.exec(t),a=r.keys.length;for(;a--;)n[r.keys[a]]=o[a]===void 0?null:o[a];return(n.scheme==="https"&&n.port==="443"||n.scheme==="http"&&n.port==="80")&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=pe.removeDotSegments(n.path),n};pe.prependBase=(t,e)=>{if(t===null||pe.isAbsolute(e))return e;(!t||rr.isString(t))&&(t=pe.parse(t||""));let n=pe.parse(e),r={protocol:t.protocol||""};if(n.authority!==null)r.authority=n.authority,r.path=n.path,r.query=n.query;else if(r.authority=t.authority,n.path==="")r.path=t.path,n.query!==null?r.query=n.query:r.query=t.query;else{if(n.path.indexOf("/")===0)r.path=n.path;else{let a=t.path;a=a.substr(0,a.lastIndexOf("/")+1),(a.length>0||t.authority)&&a.substr(-1)!=="/"&&(a+="/"),a+=n.path,r.path=a}r.query=n.query}n.path!==""&&(r.path=pe.removeDotSegments(r.path));let o=r.protocol;return r.authority!==null&&(o+="//"+r.authority),o+=r.path,r.query!==null&&(o+="?"+r.query),n.fragment!==null&&(o+="#"+n.fragment),o===""&&(o="./"),o};pe.removeBase=(t,e)=>{if(t===null)return e;(!t||rr.isString(t))&&(t=pe.parse(t||""));let n="";if(t.href!==""?n+=(t.protocol||"")+"//"+(t.authority||""):e.indexOf("//")&&(n+="//"),e.indexOf(n)!==0)return e;let r=pe.parse(e.substr(n.length)),o=t.normalizedPath.split("/"),a=r.normalizedPath.split("/"),i=r.fragment||r.query?0:1;for(;o.length>0&&a.length>i&&o[0]===a[0];)o.shift(),a.shift();let l="";if(o.length>0){o.pop();for(let p=0;p<o.length;++p)l+="../"}return l+=a.join("/"),r.query!==null&&(l+="?"+r.query),r.fragment!==null&&(l+="#"+r.fragment),l===""&&(l="./"),l};pe.removeDotSegments=t=>{if(t.length===0)return"";let e=t.split("/"),n=[];for(;e.length>0;){let r=e.shift(),o=e.length===0;if(r==="."){o&&n.push("");continue}if(r===".."){n.pop(),o&&n.push("");continue}n.push(r)}return t[0]==="/"&&n.length>0&&n[0]!==""&&n.unshift(""),n.length===1&&n[0]===""?"/":n.join("/")};var iu=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;pe.isAbsolute=t=>rr.isString(t)&&iu.test(t);pe.isRelative=t=>rr.isString(t)});var ca=J((Tw,aa)=>{"use strict";v();I();b();var{parseLinkHeader:ou,buildHeaders:su}=Ee(),{LINK_HEADER_CONTEXT:au}=nr(),pn=Ie(),cu=$r(),{prependBase:lu}=Qe(),uu=/(^|(\r\n))link:/i;aa.exports=({secure:t,headers:e={},xhr:n}={headers:{}})=>{return e=su(e),new cu().wrapLoader(o);async function o(a){if(a.indexOf("http:")!==0&&a.indexOf("https:")!==0)throw new pn('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});if(t&&a.indexOf("https")!==0)throw new pn(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:a});let i;try{i=await du(n,a,e)}catch(y){throw new pn("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:y})}if(i.status>=400)throw new pn("URL could not be dereferenced: "+i.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:a,httpStatusCode:i.status});let l={contextUrl:null,documentUrl:a,document:i.response},p=null,h=i.getResponseHeader("Content-Type"),m;if(uu.test(i.getAllResponseHeaders())&&(m=i.getResponseHeader("Link")),m&&h!=="application/ld+json"){let y=ou(m),w=y[au];if(Array.isArray(w))throw new pn("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});w&&(l.contextUrl=w.target),p=y.alternate,p&&p.type=="application/ld+json"&&!(h||"").match(/^application\/(\w*\+)?json$/)&&(l=await o(lu(a,p.target)))}return l}};function du(t,e,n){t=t||XMLHttpRequest;let r=new t;return new Promise((o,a)=>{r.onload=()=>o(r),r.onerror=i=>a(i),r.open("GET",e,!0);for(let i in n)r.setRequestHeader(i,n[i]);r.send()})}});var ua=J((Cw,la)=>{"use strict";v();I();b();var pu=ca(),qr={};la.exports=qr;qr.setupDocumentLoaders=function(t){typeof XMLHttpRequest<"u"&&(t.documentLoaders.xhr=pu,t.useDocumentLoader("xhr"))};qr.setupGlobals=function(t){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:t.JsonLdProcessor})}});var pa=J((Mw,da)=>{"use strict";v();I();b();da.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var ha=J(($w,fa)=>{"use strict";v();I();b();fa.exports=H;H.Node=Dt;H.create=H;function H(t){var e=this;if(e instanceof H||(e=new H),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(o){e.push(o)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}H.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};H.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};H.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};H.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)hu(this,arguments[t]);return this.length};H.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)gu(this,arguments[t]);return this.length};H.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};H.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};H.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};H.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};H.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};H.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};H.prototype.map=function(t,e){e=e||this;for(var n=new H,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};H.prototype.mapReverse=function(t,e){e=e||this;for(var n=new H,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};H.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;r!==null;o++)n=t(n,r.value,o),r=r.next;return n};H.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;r!==null;o--)n=t(n,r.value,o),r=r.prev;return n};H.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};H.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};H.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new H;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,o=this.head;o!==null&&r<t;r++)o=o.next;for(;o!==null&&r<e;r++,o=o.next)n.push(o.value);return n};H.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new H;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,o=this.tail;o!==null&&r>e;r--)o=o.prev;for(;o!==null&&r>t;r--,o=o.prev)n.push(o.value);return n};H.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,o=this.head;o!==null&&r<t;r++)o=o.next;for(var a=[],r=0;o&&r<e;r++)a.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var r=0;r<n.length;r++)o=fu(this,o,n[r]);return a};H.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function fu(t,e,n){var r=e===t.head?new Dt(n,null,e,t):new Dt(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function hu(t,e){t.tail=new Dt(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function gu(t,e){t.head=new Dt(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Dt(t,e,n,r){if(!(this instanceof Dt))return new Dt(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{pa()(H)}catch{}});var Wr=J((Vw,wa)=>{"use strict";v();I();b();var mu=ha(),_t=Symbol("max"),Ze=Symbol("length"),Ht=Symbol("lengthCalculator"),hn=Symbol("allowStale"),Rt=Symbol("maxAge"),Ye=Symbol("dispose"),ga=Symbol("noDisposeOnSet"),ae=Symbol("lruList"),Me=Symbol("cache"),ya=Symbol("updateAgeOnGet"),Hr=()=>1,Vr=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let n=this[_t]=e.max||1/0,r=e.length||Hr;if(this[Ht]=typeof r!="function"?Hr:r,this[hn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Rt]=e.maxAge||0,this[Ye]=e.dispose,this[ga]=e.noDisposeOnSet||!1,this[ya]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[_t]=e||1/0,fn(this)}get max(){return this[_t]}set allowStale(e){this[hn]=!!e}get allowStale(){return this[hn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Rt]=e,fn(this)}get maxAge(){return this[Rt]}set lengthCalculator(e){typeof e!="function"&&(e=Hr),e!==this[Ht]&&(this[Ht]=e,this[Ze]=0,this[ae].forEach(n=>{n.length=this[Ht](n.value,n.key),this[Ze]+=n.length})),fn(this)}get lengthCalculator(){return this[Ht]}get length(){return this[Ze]}get itemCount(){return this[ae].length}rforEach(e,n){n=n||this;for(let r=this[ae].tail;r!==null;){let o=r.prev;ma(this,e,r,n),r=o}}forEach(e,n){n=n||this;for(let r=this[ae].head;r!==null;){let o=r.next;ma(this,e,r,n),r=o}}keys(){return this[ae].toArray().map(e=>e.key)}values(){return this[ae].toArray().map(e=>e.value)}reset(){this[Ye]&&this[ae]&&this[ae].length&&this[ae].forEach(e=>this[Ye](e.key,e.value)),this[Me]=new Map,this[ae]=new mu,this[Ze]=0}dump(){return this[ae].map(e=>ir(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ae]}set(e,n,r){if(r=r||this[Rt],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let o=r?Date.now():0,a=this[Ht](n,e);if(this[Me].has(e)){if(a>this[_t])return Gt(this,this[Me].get(e)),!1;let p=this[Me].get(e).value;return this[Ye]&&(this[ga]||this[Ye](e,p.value)),p.now=o,p.maxAge=r,p.value=n,this[Ze]+=a-p.length,p.length=a,this.get(e),fn(this),!0}let i=new zr(e,n,a,o,r);return i.length>this[_t]?(this[Ye]&&this[Ye](e,n),!1):(this[Ze]+=i.length,this[ae].unshift(i),this[Me].set(e,this[ae].head),fn(this),!0)}has(e){if(!this[Me].has(e))return!1;let n=this[Me].get(e).value;return!ir(this,n)}get(e){return Gr(this,e,!0)}peek(e){return Gr(this,e,!1)}pop(){let e=this[ae].tail;return e?(Gt(this,e),e.value):null}del(e){Gt(this,this[Me].get(e))}load(e){this.reset();let n=Date.now();for(let r=e.length-1;r>=0;r--){let o=e[r],a=o.e||0;if(a===0)this.set(o.k,o.v);else{let i=a-n;i>0&&this.set(o.k,o.v,i)}}}prune(){this[Me].forEach((e,n)=>Gr(this,n,!1))}},Gr=(t,e,n)=>{let r=t[Me].get(e);if(r){let o=r.value;if(ir(t,o)){if(Gt(t,r),!t[hn])return}else n&&(t[ya]&&(r.value.now=Date.now()),t[ae].unshiftNode(r));return o.value}},ir=(t,e)=>{if(!e||!e.maxAge&&!t[Rt])return!1;let n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[Rt]&&n>t[Rt]},fn=t=>{if(t[Ze]>t[_t])for(let e=t[ae].tail;t[Ze]>t[_t]&&e!==null;){let n=e.prev;Gt(t,e),e=n}},Gt=(t,e)=>{if(e){let n=e.value;t[Ye]&&t[Ye](n.key,n.value),t[Ze]-=n.length,t[Me].delete(n.key),t[ae].removeNode(e)}},zr=class{constructor(e,n,r,o,a){this.key=e,this.value=n,this.length=r,this.now=o,this.maxAge=a||0}},ma=(t,e,n,r)=>{let o=n.value;ir(t,o)&&(Gt(t,n),t[hn]||(o=void 0)),o&&e.call(r,o.value,o.key,t)};wa.exports=Vr});var ba=J((Qw,va)=>{"use strict";v();I();b();var yu=Wr(),wu=10;va.exports=class{constructor({document:e}){this.document=e,this.cache=new yu({max:wu})}getProcessed(e){return this.cache.get(e)}setProcessed(e,n){this.cache.set(e,n)}}});var Sa=J((nv,xa)=>{"use strict";v();I();b();var{isArray:Xr,isObject:mn,isString:or}=ve(),{asArray:vu}=Ee(),{prependBase:Kr}=Qe(),gn=Ie(),Ia=ba(),Ea=10;xa.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:n,documentLoader:r,base:o,cycles:a=new Set}){n&&mn(n)&&n["@context"]&&(n=n["@context"]),n=vu(n);let i=[];for(let l of n){if(or(l)){let m=this._get(l);m||(m=await this._resolveRemoteContext({activeCtx:e,url:l,documentLoader:r,base:o,cycles:a})),Xr(m)?i.push(...m):i.push(m);continue}if(l===null){i.push(new Ia({document:null}));continue}mn(l)||bu(n);let p=JSON.stringify(l),h=this._get(p);h||(h=new Ia({document:l}),this._cacheResolvedContext({key:p,resolved:h,tag:"static"})),i.push(h)}return i}_get(e){let n=this.perOpCache.get(e);if(!n){let r=this.sharedCache.get(e);r&&(n=r.get("static"),n&&this.perOpCache.set(e,n))}return n}_cacheResolvedContext({key:e,resolved:n,tag:r}){if(this.perOpCache.set(e,n),r!==void 0){let o=this.sharedCache.get(e);o||(o=new Map,this.sharedCache.set(e,o)),o.set(r,n)}return n}async _resolveRemoteContext({activeCtx:e,url:n,documentLoader:r,base:o,cycles:a}){n=Kr(o,n);let{context:i,remoteDoc:l}=await this._fetchContext({activeCtx:e,url:n,documentLoader:r,cycles:a});o=l.documentUrl||n,Qr({context:i,base:o});let p=await this.resolve({activeCtx:e,context:i,documentLoader:r,base:o,cycles:a});return this._cacheResolvedContext({key:n,resolved:p,tag:l.tag}),p}async _fetchContext({activeCtx:e,url:n,documentLoader:r,cycles:o}){if(o.size>Ea)throw new gn("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:e.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:Ea});if(o.has(n))throw new gn("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:e.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:n});o.add(n);let a,i;try{i=await r(n),a=i.document||null,or(a)&&(a=JSON.parse(a))}catch(l){throw new gn("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:n,cause:l})}if(!mn(a))throw new gn("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:n});return"@context"in a?a={"@context":a["@context"]}:a={"@context":{}},i.contextUrl&&(Xr(a["@context"])||(a["@context"]=[a["@context"]]),a["@context"].push(i.contextUrl)),{context:a,remoteDoc:i}}};function bu(t){throw new gn("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:t})}function Qr({context:t,base:e}){if(!t)return;let n=t["@context"];if(or(n)){t["@context"]=Kr(e,n);return}if(Xr(n)){for(let r=0;r<n.length;++r){let o=n[r];if(or(o)){n[r]=Kr(e,o);continue}mn(o)&&Qr({context:{"@context":o},base:e})}return}if(mn(n))for(let r in n)Qr({context:n[r],base:e})}});var Na=J((sv,Aa)=>{"use strict";v();I();b();Aa.exports=er().NQuads});var Vt=J((uv,Ra)=>{"use strict";v();I();b();var Yr=Ie(),{isArray:Iu}=ve(),{asArray:Da}=Ee(),xe={};Ra.exports=xe;xe.defaultEventHandler=null;xe.setupEventHandler=({options:t={}})=>{let e=[].concat(t.safe?xe.safeEventHandler:[],t.eventHandler?Da(t.eventHandler):[],xe.defaultEventHandler?xe.defaultEventHandler:[]);return e.length===0?null:e};xe.handleEvent=({event:t,options:e})=>{_a({event:t,handlers:e.eventHandler})};function _a({event:t,handlers:e}){let n=!0;for(let r=0;n&&r<e.length;++r){n=!1;let o=e[r];if(Iu(o))n=_a({event:t,handlers:o});else if(typeof o=="function")o({event:t,next:()=>{n=!0}});else if(typeof o=="object")t.code in o?o[t.code]({event:t,next:()=>{n=!0}}):n=!0;else throw new Yr("Invalid event handler.","jsonld.InvalidEventHandler",{event:t})}return n}var Eu=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);xe.safeEventHandler=function({event:e,next:n}){if(e.level==="warning"&&Eu.has(e.code))throw new Yr("Safe mode validation error.","jsonld.ValidationError",{event:e});n()};xe.logEventHandler=function({event:e,next:n}){console.log(`EVENT: ${e.message}`,{event:e}),n()};xe.logWarningEventHandler=function({event:e,next:n}){e.level==="warning"&&console.warn(`WARNING: ${e.message}`,{event:e}),n()};xe.unhandledEventHandler=function({event:e}){throw new Yr("No handler for event.","jsonld.UnhandledEvent",{event:e})};xe.setDefaultEventHandler=function({eventHandler:t}={}){xe.defaultEventHandler=t?Da(t):null}});var ct=J((hv,ja)=>{"use strict";v();I();b();var Ta=Ee(),M=Ie(),{isArray:Oa,isObject:at,isString:be,isUndefined:xu}=ve(),{isAbsolute:Tt,isRelative:Su,prependBase:yn}=Qe(),{handleEvent:Wt}=Vt(),{REGEX_BCP47:Au,REGEX_KEYWORD:ar,asArray:La,compareShortestLeast:Nu}=Ee(),sr=new Map,Du=1e4,Y={};ja.exports=Y;Y.process=async({activeCtx:t,localCtx:e,options:n,propagate:r=!0,overrideProtected:o=!1,cycles:a=new Set})=>{if(at(e)&&"@context"in e&&Oa(e["@context"])&&(e=e["@context"]),La(e).length===0)return t;let l=[],p=[({event:w,next:u})=>{l.push(w),u()}];n.eventHandler&&p.push(n.eventHandler);let h=n;n={...n,eventHandler:p};let m=await n.contextResolver.resolve({activeCtx:t,context:e,documentLoader:n.documentLoader,base:n.base});at(m[0].document)&&typeof m[0].document["@propagate"]=="boolean"&&(r=m[0].document["@propagate"]);let y=t;!r&&!y.previousContext&&(y=y.clone(),y.previousContext=t);for(let w of m){let{document:u}=w;if(t=y,u===null){if(!o&&Object.keys(t.protected).length!==0)throw new M("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});y=t=Y.getInitialContext(n).clone();continue}let f=w.getProcessed(t);if(f){if(h.eventHandler)for(let E of f.events)Wt({event:E,options:h});y=t=f.context;continue}if(at(u)&&"@context"in u&&(u=u["@context"]),!at(u))throw new M("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:u});y=y.clone();let x=new Map;if("@version"in u){if(u["@version"]!==1.1)throw new M("Unsupported JSON-LD version: "+u["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:u});if(t.processingMode&&t.processingMode==="json-ld-1.0")throw new M("@version: "+u["@version"]+" not compatible with "+t.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:u});y.processingMode="json-ld-1.1",y["@version"]=u["@version"],x.set("@version",!0)}if(y.processingMode=y.processingMode||t.processingMode,"@base"in u){let E=u["@base"];if(!(E===null||Tt(E)))if(Su(E))E=yn(y["@base"],E);else throw new M('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:u});y["@base"]=E,x.set("@base",!0)}if("@vocab"in u){let E=u["@vocab"];if(E===null)delete y["@vocab"];else if(be(E)){if(!Tt(E)&&Y.processingMode(y,1))throw new M('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});{let A=zt(y,E,{vocab:!0,base:!0},void 0,void 0,n);Tt(A)||n.eventHandler&&Wt({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:A}},options:n}),y["@vocab"]=A}}else throw new M('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});x.set("@vocab",!0)}if("@language"in u){let E=u["@language"];if(E===null)delete y["@language"];else if(be(E))E.match(Au)||n.eventHandler&&Wt({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:E}},options:n}),y["@language"]=E.toLowerCase();else throw new M('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:u});x.set("@language",!0)}if("@direction"in u){let E=u["@direction"];if(t.processingMode==="json-ld-1.0")throw new M("Invalid JSON-LD syntax; @direction not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:u});if(E===null)delete y["@direction"];else{if(E!=="ltr"&&E!=="rtl")throw new M('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:u});y["@direction"]=E}x.set("@direction",!0)}if("@propagate"in u){let E=u["@propagate"];if(t.processingMode==="json-ld-1.0")throw new M("Invalid JSON-LD syntax; @propagate not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:u});if(typeof E!="boolean")throw new M("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:e});x.set("@propagate",!0)}if("@import"in u){let E=u["@import"];if(t.processingMode==="json-ld-1.0")throw new M("Invalid JSON-LD syntax; @import not compatible with "+t.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:u});if(!be(E))throw new M("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:e});let A=await n.contextResolver.resolve({activeCtx:t,context:E,documentLoader:n.documentLoader,base:n.base});if(A.length!==1)throw new M("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:e});let _=A[0].getProcessed(t);if(_)u=_;else{let C=A[0].document;if("@import"in C)throw new M("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:e});for(let R in C)u.hasOwnProperty(R)||(u[R]=C[R]);A[0].setProcessed(t,u)}x.set("@import",!0)}x.set("@protected",u["@protected"]||!1);for(let E in u)if(Y.createTermDefinition({activeCtx:y,localCtx:u,term:E,defined:x,options:n,overrideProtected:o}),at(u[E])&&"@context"in u[E]){let A=u[E]["@context"],_=!0;if(be(A)){let C=yn(n.base,A);a.has(C)?_=!1:a.add(C)}if(_)try{await Y.process({activeCtx:y.clone(),localCtx:u[E]["@context"],overrideProtected:!0,options:n,cycles:a})}catch{throw new M("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:u[E]["@context"],term:E})}}w.setProcessed(t,{context:y,events:l})}return y};Y.createTermDefinition=({activeCtx:t,localCtx:e,term:n,defined:r,options:o,overrideProtected:a=!1})=>{if(r.has(n)){if(r.get(n))return;throw new M("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:e,term:n})}r.set(n,!1);let i;if(e.hasOwnProperty(n)&&(i=e[n]),n==="@type"&&at(i)&&(i["@container"]||"@set")==="@set"&&Y.processingMode(t,1.1)){let u=["@container","@id","@protected"],f=Object.keys(i);if(f.length===0||f.some(x=>!u.includes(x)))throw new M("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:e,term:n})}else{if(Y.isKeyword(n))throw new M("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:e,term:n});if(n.match(ar)){o.eventHandler&&Wt({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:n}},options:o});return}else if(n==="")throw new M("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:e})}let l=t.mappings.get(n);t.mappings.has(n)&&t.mappings.delete(n);let p=!1;if((be(i)||i===null)&&(p=!0,i={"@id":i}),!at(i))throw new M("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:e});let h={};t.mappings.set(n,h),h.reverse=!1;let m=["@container","@id","@language","@reverse","@type"];Y.processingMode(t,1.1)&&m.push("@context","@direction","@index","@nest","@prefix","@protected");for(let u in i)if(!m.includes(u))throw new M("Invalid JSON-LD syntax; a term definition must not contain "+u,"jsonld.SyntaxError",{code:"invalid term definition",context:e});let y=n.indexOf(":");if(h._termHasColon=y>0,"@reverse"in i){if("@id"in i)throw new M("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});if("@nest"in i)throw new M("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});let u=i["@reverse"];if(!be(u))throw new M("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(u.match(ar)){o.eventHandler&&Wt({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:u}},options:o}),l?t.mappings.set(n,l):t.mappings.delete(n);return}let f=zt(t,u,{vocab:!0,base:!1},e,r,o);if(!Tt(f))throw new M("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});h["@id"]=f,h.reverse=!0}else if("@id"in i){let u=i["@id"];if(u&&!be(u))throw new M("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(u===null)h["@id"]=null;else if(!Y.isKeyword(u)&&u.match(ar)){o.eventHandler&&Wt({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:u}},options:o}),l?t.mappings.set(n,l):t.mappings.delete(n);return}else if(u!==n){if(u=zt(t,u,{vocab:!0,base:!1},e,r,o),!Tt(u)&&!Y.isKeyword(u))throw new M("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e});if(n.match(/(?::[^:])|\//)){let f=new Map(r).set(n,!0);if(zt(t,n,{vocab:!0,base:!1},e,f,o)!==u)throw new M("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e})}h["@id"]=u,h._prefix=p&&!h._termHasColon&&u.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in h))if(h._termHasColon){let u=n.substr(0,y);if(e.hasOwnProperty(u)&&Y.createTermDefinition({activeCtx:t,localCtx:e,term:u,defined:r,options:o}),t.mappings.has(u)){let f=n.substr(y+1);h["@id"]=t.mappings.get(u)["@id"]+f}else h["@id"]=n}else if(n==="@type")h["@id"]=n;else{if(!("@vocab"in t))throw new M("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:e,term:n});h["@id"]=t["@vocab"]+n}if((i["@protected"]===!0||r.get("@protected")===!0&&i["@protected"]!==!1)&&(t.protected[n]=!0,h.protected=!0),r.set(n,!0),"@type"in i){let u=i["@type"];if(!be(u))throw new M("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:e});if(u==="@json"||u==="@none"){if(Y.processingMode(t,1))throw new M(`Invalid JSON-LD syntax; an @context @type value must not be "${u}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:e})}else if(u!=="@id"&&u!=="@vocab"){if(u=zt(t,u,{vocab:!0,base:!1},e,r,o),!Tt(u))throw new M("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:e});if(u.indexOf("_:")===0)throw new M("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:e})}h["@type"]=u}if("@container"in i){let u=be(i["@container"])?[i["@container"]]:i["@container"]||[],f=["@list","@set","@index","@language"],x=!0,E=u.includes("@set");if(Y.processingMode(t,1.1)){if(f.push("@graph","@id","@type"),u.includes("@list")){if(u.length!==1)throw new M("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:e})}else if(u.includes("@graph")){if(u.some(A=>A!=="@graph"&&A!=="@id"&&A!=="@index"&&A!=="@set"))throw new M("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:e})}else x&=u.length<=(E?2:1);if(u.includes("@type")&&(h["@type"]=h["@type"]||"@id",!["@id","@vocab"].includes(h["@type"])))throw new M("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:e})}else x&=!Oa(i["@container"]),x&=u.length<=1;if(x&=u.every(A=>f.includes(A)),x&=!(E&&u.includes("@list")),!x)throw new M("Invalid JSON-LD syntax; @context @container value must be one of the following: "+f.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:e});if(h.reverse&&!u.every(A=>["@index","@set"].includes(A)))throw new M("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:e});h["@container"]=u}if("@index"in i){if(!("@container"in i)||!h["@container"].includes("@index"))throw new M(`Invalid JSON-LD syntax; @index without @index in @container: "${i["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:e});if(!be(i["@index"])||i["@index"].indexOf("@")===0)throw new M(`Invalid JSON-LD syntax; @index must expand to an IRI: "${i["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:e});h["@index"]=i["@index"]}if("@context"in i&&(h["@context"]=i["@context"]),"@language"in i&&!("@type"in i)){let u=i["@language"];if(u!==null&&!be(u))throw new M("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:e});u!==null&&(u=u.toLowerCase()),h["@language"]=u}if("@prefix"in i){if(n.match(/:|\//))throw new M("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:e});if(Y.isKeyword(h["@id"]))throw new M("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:e});if(typeof i["@prefix"]=="boolean")h._prefix=i["@prefix"]===!0;else throw new M("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:e})}if("@direction"in i){let u=i["@direction"];if(u!==null&&u!=="ltr"&&u!=="rtl")throw new M('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:e});h["@direction"]=u}if("@nest"in i){let u=i["@nest"];if(!be(u)||u!=="@nest"&&u.indexOf("@")===0)throw new M("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:e});h["@nest"]=u}let w=h["@id"];if(w==="@context"||w==="@preserve")throw new M("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:e});if(l&&l.protected&&!a&&(t.protected[n]=!0,h.protected=!0,!Zr(l,h)))throw new M("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:e,term:n})};Y.expandIri=(t,e,n,r)=>zt(t,e,n,void 0,void 0,r);function zt(t,e,n,r,o,a){if(e===null||!be(e)||Y.isKeyword(e))return e;if(e.match(ar))return null;if(r&&r.hasOwnProperty(e)&&o.get(e)!==!0&&Y.createTermDefinition({activeCtx:t,localCtx:r,term:e,defined:o,options:a}),n=n||{},n.vocab){let l=t.mappings.get(e);if(l===null)return null;if(at(l)&&"@id"in l)return l["@id"]}let i=e.indexOf(":");if(i>0){let l=e.substr(0,i),p=e.substr(i+1);if(l==="_"||p.indexOf("//")===0)return e;r&&r.hasOwnProperty(l)&&Y.createTermDefinition({activeCtx:t,localCtx:r,term:l,defined:o,options:a});let h=t.mappings.get(l);if(h&&h._prefix)return h["@id"]+p;if(Tt(e))return e}if(n.vocab&&"@vocab"in t)e=t["@vocab"]+e;else if(n.base){let l,p;"@base"in t?t["@base"]?(p=yn(a.base,t["@base"]),l=yn(p,e)):(p=t["@base"],l=e):(p=a.base,l=yn(a.base,e)),e=l}return e}Y.getInitialContext=t=>{let e=JSON.stringify({processingMode:t.processingMode}),n=sr.get(e);if(n)return n;let r={processingMode:t.processingMode,mappings:new Map,inverse:null,getInverse:o,clone:l,revertToPreviousContext:p,protected:{}};return sr.size===Du&&sr.clear(),sr.set(e,r),r;function o(){let h=this;if(h.inverse)return h.inverse;let m=h.inverse={},y=h.fastCurieMap={},w={},u=(h["@language"]||"@none").toLowerCase(),f=h["@direction"],x=h.mappings,E=[...x.keys()].sort(Nu);for(let A of E){let _=x.get(A);if(_===null)continue;let C=_["@container"]||"@none";if(C=[].concat(C).sort().join(""),_["@id"]===null)continue;let R=La(_["@id"]);for(let B of R){let k=m[B],G=Y.isKeyword(B);if(k)!G&&!_._termHasColon&&w[B].push(A);else if(m[B]=k={},!G&&!_._termHasColon){w[B]=[A];let z={iri:B,terms:w[B]};B[0]in y?y[B[0]].push(z):y[B[0]]=[z]}if(k[C]||(k[C]={"@language":{},"@type":{},"@any":{}}),k=k[C],i(A,k["@any"],"@none"),_.reverse)i(A,k["@type"],"@reverse");else if(_["@type"]==="@none")i(A,k["@any"],"@none"),i(A,k["@language"],"@none"),i(A,k["@type"],"@none");else if("@type"in _)i(A,k["@type"],_["@type"]);else if("@language"in _&&"@direction"in _){let z=_["@language"],Q=_["@direction"];z&&Q?i(A,k["@language"],`${z}_${Q}`.toLowerCase()):z?i(A,k["@language"],z.toLowerCase()):Q?i(A,k["@language"],`_${Q}`):i(A,k["@language"],"@null")}else"@language"in _?i(A,k["@language"],(_["@language"]||"@null").toLowerCase()):"@direction"in _?_["@direction"]?i(A,k["@language"],`_${_["@direction"]}`):i(A,k["@language"],"@none"):f?(i(A,k["@language"],`_${f}`),i(A,k["@language"],"@none"),i(A,k["@type"],"@none")):(i(A,k["@language"],u),i(A,k["@language"],"@none"),i(A,k["@type"],"@none"))}}for(let A in y)a(y,A,1);return m}function a(h,m,y){let w=h[m],u=h[m]={},f,x;for(let E of w)f=E.iri,y>=f.length?x="":x=f[y],x in u?u[x].push(E):u[x]=[E];for(let E in u)E!==""&&a(u,E,y+1)}function i(h,m,y){m.hasOwnProperty(y)||(m[y]=h)}function l(){let h={};return h.mappings=Ta.clone(this.mappings),h.clone=this.clone,h.inverse=null,h.getInverse=this.getInverse,h.protected=Ta.clone(this.protected),this.previousContext&&(h.previousContext=this.previousContext.clone()),h.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(h["@base"]=this["@base"]),"@language"in this&&(h["@language"]=this["@language"]),"@vocab"in this&&(h["@vocab"]=this["@vocab"]),h}function p(){return this.previousContext?this.previousContext.clone():this}};Y.getContextValue=(t,e,n)=>{if(e===null)return n==="@context"?void 0:null;if(t.mappings.has(e)){let r=t.mappings.get(e);if(xu(n))return r;if(r.hasOwnProperty(n))return r[n]}if(n==="@language"&&n in t||n==="@direction"&&n in t)return t[n];if(n!=="@context")return null};Y.processingMode=(t,e)=>e.toString()>="1.1"?!t.processingMode||t.processingMode>="json-ld-"+e.toString():t.processingMode==="json-ld-1.0";Y.isKeyword=t=>{if(!be(t)||t[0]!=="@")return!1;switch(t){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function Zr(t,e){if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return t===e;let n=Array.isArray(t);if(n!==Array.isArray(e))return!1;if(n){if(t.length!==e.length)return!1;for(let a=0;a<t.length;++a)if(!Zr(t[a],e[a]))return!1;return!0}let r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(let a in t){let i=t[a],l=e[a];if(a==="@container"&&Array.isArray(i)&&Array.isArray(l)&&(i=i.slice().sort(),l=l.slice().sort()),!Zr(i,l))return!1}return!0}});var Pa=J((wv,Ma)=>{"use strict";v();I();b();var ee=Ie(),{isArray:Oe,isObject:Re,isEmptyObject:ni,isString:fe,isUndefined:ur}=ve(),{isList:ei,isValue:ri,isGraph:_u,isSubject:Ru}=Fe(),{expandIri:ie,getContextValue:Ae,isKeyword:ii,process:wn,processingMode:cr}=ct(),{isAbsolute:lr}=Qe(),{REGEX_BCP47:Ca,REGEX_KEYWORD:Tu,addValue:Se,asArray:Pe,getValues:Ou,validateTypeValue:Lu}=Ee(),{handleEvent:Te}=Vt(),lt={};Ma.exports=lt;lt.expand=async({activeCtx:t,activeProperty:e=null,element:n,options:r={},insideList:o=!1,insideIndex:a=!1,typeScopedContext:i=null})=>{if(n==null)return null;if(e==="@default"&&(r=Object.assign({},r,{isFrame:!1})),!Oe(n)&&!Re(n))return!o&&(e===null||ie(t,e,{vocab:!0},r)==="@graph")?(r.eventHandler&&Te({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:n}},options:r}),null):Ba({activeCtx:t,activeProperty:e,value:n,options:r});if(Oe(n)){let f=[],x=Ae(t,e,"@container")||[];o=o||x.includes("@list");for(let E=0;E<n.length;++E){let A=await lt.expand({activeCtx:t,activeProperty:e,element:n[E],options:r,insideIndex:a,typeScopedContext:i});o&&Oe(A)&&(A={"@list":A}),A!==null&&(Oe(A)?f=f.concat(A):f.push(A))}return f}let l=ie(t,e,{vocab:!0},r),p=Ae(t,e,"@context");i=i||(t.previousContext?t:null);let h=Object.keys(n).sort(),m=!a;if(m&&i&&h.length<=2&&!h.includes("@context"))for(let f of h){let x=ie(i,f,{vocab:!0},r);if(x==="@value"){m=!1,t=i;break}if(x==="@id"&&h.length===1){m=!1;break}}m&&(t=t.revertToPreviousContext()),ur(p)||(t=await wn({activeCtx:t,localCtx:p,propagate:!0,overrideProtected:!0,options:r})),"@context"in n&&(t=await wn({activeCtx:t,localCtx:n["@context"],options:r})),i=t;let y=null;for(let f of h)if(ie(t,f,{vocab:!0},r)==="@type"){y=y||f;let E=n[f],A=Array.isArray(E)?E.length>1?E.slice().sort():E:[E];for(let _ of A){let C=Ae(i,_,"@context");ur(C)||(t=await wn({activeCtx:t,localCtx:C,options:r,propagate:!1}))}}let w={};await Ua({activeCtx:t,activeProperty:e,expandedActiveProperty:l,element:n,expandedParent:w,options:r,insideList:o,typeKey:y,typeScopedContext:i}),h=Object.keys(w);let u=h.length;if("@value"in w){if("@type"in w&&("@language"in w||"@direction"in w))throw new ee('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:w});let f=u-1;if("@type"in w&&(f-=1),"@index"in w&&(f-=1),"@language"in w&&(f-=1),"@direction"in w&&(f-=1),f!==0)throw new ee('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:w});let x=w["@value"]===null?[]:Pe(w["@value"]),E=Ou(w,"@type");if(!(cr(t,1.1)&&E.includes("@json")&&E.length===1))if(x.length===0)r.eventHandler&&Te({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:w}},options:r}),w=null;else{if(!x.every(A=>fe(A)||ni(A))&&"@language"in w)throw new ee("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:w});if(!E.every(A=>lr(A)&&!(fe(A)&&A.indexOf("_:")===0)||ni(A)))throw new ee('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:w})}}else if("@type"in w&&!Oe(w["@type"]))w["@type"]=[w["@type"]];else if("@set"in w||"@list"in w){if(u>1&&!(u===2&&"@index"in w))throw new ee('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:w});"@set"in w&&(w=w["@set"],h=Object.keys(w),u=h.length)}else u===1&&"@language"in w&&(r.eventHandler&&Te({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:w}},options:r}),w=null);return Re(w)&&!r.keepFreeFloatingNodes&&!o&&(e===null||l==="@graph"||(Ae(t,e,"@container")||[]).includes("@graph"))&&(w=ka({value:w,count:u,options:r})),w};function ka({value:t,count:e,options:n}){if(e===0||"@value"in t||"@list"in t||e===1&&"@id"in t){if(n.eventHandler){let r,o;e===0?(r="empty object",o="Dropping empty object."):"@value"in t?(r="object with only @value",o="Dropping object with only @value."):"@list"in t?(r="object with only @list",o="Dropping object with only @list."):e===1&&"@id"in t&&(r="object with only @id",o="Dropping object with only @id."),Te({event:{type:["JsonLdEvent"],code:r,level:"warning",message:o,details:{value:t}},options:n})}return null}return t}async function Ua({activeCtx:t,activeProperty:e,expandedActiveProperty:n,element:r,expandedParent:o,options:a={},insideList:i,typeKey:l,typeScopedContext:p}){let h=Object.keys(r).sort(),m=[],y,w=r[l]&&ie(t,Oe(r[l])?r[l][0]:r[l],{vocab:!0},{...a,typeExpansion:!0})==="@json";for(let u of h){let f=r[u],x;if(u==="@context")continue;let E=ie(t,u,{vocab:!0},a);if(E===null||!(lr(E)||ii(E))){a.eventHandler&&Te({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:u,expandedProperty:E}},options:a});continue}if(ii(E)){if(n==="@reverse")throw new ee("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:f});if(E in o&&E!=="@included"&&E!=="@type")throw new ee("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:E})}if(E==="@id"){if(!fe(f)){if(!a.isFrame)throw new ee('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:f});if(Re(f)){if(!ni(f))throw new ee('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:f})}else if(Oe(f)){if(!f.every(R=>fe(R)))throw new ee('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:f})}else throw new ee('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:f})}Se(o,"@id",Pe(f).map(R=>{if(fe(R)){let B=ie(t,R,{base:!0},a);return a.eventHandler&&(B===null?Te(R===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:R}},options:a}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:R}},options:a}):lr(B)||Te({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:R,expandedId:B}},options:a})),B}return R}),{propertyIsArray:a.isFrame});continue}if(E==="@type"){Re(f)&&(f=Object.fromEntries(Object.entries(f).map(([R,B])=>[ie(p,R,{vocab:!0}),Pe(B).map(k=>ie(p,k,{base:!0,vocab:!0},{...a,typeExpansion:!0}))]))),Lu(f,a.isFrame),Se(o,"@type",Pe(f).map(R=>{if(fe(R)){let B=ie(p,R,{base:!0,vocab:!0},{...a,typeExpansion:!0});return B!=="@json"&&!lr(B)&&a.eventHandler&&Te({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:R}},options:a}),B}return R}),{propertyIsArray:!!a.isFrame});continue}if(E==="@included"&&cr(t,1.1)){let R=Pe(await lt.expand({activeCtx:t,activeProperty:e,element:f,options:a}));if(!R.every(B=>Ru(B)))throw new ee("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:f});Se(o,"@included",R,{propertyIsArray:!0});continue}if(E==="@graph"&&!(Re(f)||Oe(f)))throw new ee('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:f});if(E==="@value"){y=f,w&&cr(t,1.1)?o["@value"]=f:Se(o,"@value",f,{propertyIsArray:a.isFrame});continue}if(E==="@language"){if(f===null)continue;if(!fe(f)&&!a.isFrame)throw new ee('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:f});f=Pe(f).map(R=>fe(R)?R.toLowerCase():R);for(let R of f)fe(R)&&!R.match(Ca)&&a.eventHandler&&Te({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:R}},options:a});Se(o,"@language",f,{propertyIsArray:a.isFrame});continue}if(E==="@direction"){if(!fe(f)&&!a.isFrame)throw new ee('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:f});f=Pe(f);for(let R of f)if(fe(R)&&R!=="ltr"&&R!=="rtl")throw new ee('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:f});Se(o,"@direction",f,{propertyIsArray:a.isFrame});continue}if(E==="@index"){if(!fe(f))throw new ee('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:f});Se(o,"@index",f);continue}if(E==="@reverse"){if(!Re(f))throw new ee('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:f});if(x=await lt.expand({activeCtx:t,activeProperty:"@reverse",element:f,options:a}),"@reverse"in x)for(let B in x["@reverse"])Se(o,B,x["@reverse"][B],{propertyIsArray:!0});let R=o["@reverse"]||null;for(let B in x){if(B==="@reverse")continue;R===null&&(R=o["@reverse"]={}),Se(R,B,[],{propertyIsArray:!0});let k=x[B];for(let G=0;G<k.length;++G){let z=k[G];if(ri(z)||ei(z))throw new ee('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:x});Se(R,B,z,{propertyIsArray:!0})}}continue}if(E==="@nest"){m.push(u);continue}let A=t,_=Ae(t,u,"@context");ur(_)||(A=await wn({activeCtx:t,localCtx:_,propagate:!0,overrideProtected:!0,options:a}));let C=Ae(t,u,"@container")||[];if(C.includes("@language")&&Re(f)){let R=Ae(A,u,"@direction");x=ju(A,f,R,a)}else if(C.includes("@index")&&Re(f)){let R=C.includes("@graph"),B=Ae(A,u,"@index")||"@index",k=B!=="@index"&&ie(t,B,{vocab:!0},a);x=await ti({activeCtx:A,options:a,activeProperty:u,value:f,asGraph:R,indexKey:B,propertyIndex:k})}else if(C.includes("@id")&&Re(f)){let R=C.includes("@graph");x=await ti({activeCtx:A,options:a,activeProperty:u,value:f,asGraph:R,indexKey:"@id"})}else if(C.includes("@type")&&Re(f))x=await ti({activeCtx:A.revertToPreviousContext(),options:a,activeProperty:u,value:f,asGraph:!1,indexKey:"@type"});else{let R=E==="@list";if(R||E==="@set"){let B=e;R&&n==="@graph"&&(B=null),x=await lt.expand({activeCtx:A,activeProperty:B,element:f,options:a,insideList:R})}else Ae(t,u,"@type")==="@json"?x={"@type":"@json","@value":f}:x=await lt.expand({activeCtx:A,activeProperty:u,element:f,options:a,insideList:!1})}if(!(x===null&&E!=="@value")){if(E!=="@list"&&!ei(x)&&C.includes("@list")&&(x={"@list":Pe(x)}),C.includes("@graph")&&!C.some(R=>R==="@id"||R==="@index")){if(x=Pe(x),a.isFrame||(x=x.filter(R=>{let B=Object.keys(R).length;return ka({value:R,count:B,options:a})!==null})),x.length===0)continue;x=x.map(R=>({"@graph":Pe(R)}))}if(A.mappings.has(u)&&A.mappings.get(u).reverse){let R=o["@reverse"]=o["@reverse"]||{};x=Pe(x);for(let B=0;B<x.length;++B){let k=x[B];if(ri(k)||ei(k))throw new ee('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:x});Se(R,E,k,{propertyIsArray:!0})}continue}Se(o,E,x,{propertyIsArray:!0})}}if("@value"in o&&!(o["@type"]==="@json"&&cr(t,1.1))){if((Re(y)||Oe(y))&&!a.isFrame)throw new ee('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:y})}for(let u of m){let f=Oe(r[u])?r[u]:[r[u]];for(let x of f){if(!Re(x)||Object.keys(x).some(E=>ie(t,E,{vocab:!0},a)==="@value"))throw new ee("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:x});await Ua({activeCtx:t,activeProperty:e,expandedActiveProperty:n,element:x,expandedParent:o,options:a,insideList:i,typeScopedContext:p,typeKey:l})}}}function Ba({activeCtx:t,activeProperty:e,value:n,options:r}){if(n==null)return null;let o=ie(t,e,{vocab:!0},r);if(o==="@id")return ie(t,n,{base:!0},r);if(o==="@type")return ie(t,n,{vocab:!0,base:!0},{...r,typeExpansion:!0});let a=Ae(t,e,"@type");if((a==="@id"||o==="@graph")&&fe(n)){let l=ie(t,n,{base:!0},r);return l===null&&n.match(Tu)&&r.eventHandler&&Te({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:e}},options:r}),{"@id":l}}if(a==="@vocab"&&fe(n))return{"@id":ie(t,n,{vocab:!0,base:!0},r)};if(ii(o))return n;let i={};if(a&&!["@id","@vocab","@none"].includes(a))i["@type"]=a;else if(fe(n)){let l=Ae(t,e,"@language");l!==null&&(i["@language"]=l);let p=Ae(t,e,"@direction");p!==null&&(i["@direction"]=p)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),i["@value"]=n,i}function ju(t,e,n,r){let o=[],a=Object.keys(e).sort();for(let i of a){let l=ie(t,i,{vocab:!0},r),p=e[i];Oe(p)||(p=[p]);for(let h of p){if(h===null)continue;if(!fe(h))throw new ee("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:e});let m={"@value":h};l!=="@none"&&(i.match(Ca)||r.eventHandler&&Te({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:i}},options:r}),m["@language"]=i.toLowerCase()),n&&(m["@direction"]=n),o.push(m)}}return o}async function ti({activeCtx:t,options:e,activeProperty:n,value:r,asGraph:o,indexKey:a,propertyIndex:i}){let l=[],p=Object.keys(r).sort(),h=a==="@type";for(let m of p){if(h){let u=Ae(t,m,"@context");ur(u)||(t=await wn({activeCtx:t,localCtx:u,propagate:!1,options:e}))}let y=r[m];Oe(y)||(y=[y]),y=await lt.expand({activeCtx:t,activeProperty:n,element:y,options:e,insideList:!1,insideIndex:!0});let w;i?m==="@none"?w="@none":w=Ba({activeCtx:t,activeProperty:a,value:m,options:e}):w=ie(t,m,{vocab:!0},e),a==="@id"?m=ie(t,m,{base:!0},e):h&&(m=w);for(let u of y){if(o&&!_u(u)&&(u={"@graph":[u]}),a==="@type")w==="@none"||(u["@type"]?u["@type"]=[m].concat(u["@type"]):u["@type"]=[m]);else{if(ri(u)&&!["@language","@type","@index"].includes(a))throw new ee(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${a}".`,"jsonld.SyntaxError",{code:"invalid value object",value:u});i?w!=="@none"&&Se(u,i,w,{propertyIsArray:!0,prependValue:!0}):w!=="@none"&&!(a in u)&&(u[a]=m)}l.push(u)}}return l}});var vn=J((Ev,Fa)=>{"use strict";v();I();b();var{isKeyword:Ja}=ct(),$e=Fe(),oi=ve(),qe=Ee(),Cu=Ie(),ge={};Fa.exports=ge;ge.createMergedNodeMap=(t,e)=>{e=e||{};let n=e.issuer||new qe.IdentifierIssuer("_:b"),r={"@default":{}};return ge.createNodeMap(t,r,"@default",n),ge.mergeNodeMaps(r)};ge.createNodeMap=(t,e,n,r,o,a)=>{if(oi.isArray(t)){for(let h of t)ge.createNodeMap(h,e,n,r,void 0,a);return}if(!oi.isObject(t)){a&&a.push(t);return}if($e.isValue(t)){if("@type"in t){let h=t["@type"];h.indexOf("_:")===0&&(t["@type"]=h=r.getId(h))}a&&a.push(t);return}else if(a&&$e.isList(t)){let h=[];ge.createNodeMap(t["@list"],e,n,r,o,h),a.push({"@list":h});return}if("@type"in t){let h=t["@type"];for(let m of h)m.indexOf("_:")===0&&r.getId(m)}oi.isUndefined(o)&&(o=$e.isBlankNode(t)?r.getId(t["@id"]):t["@id"]),a&&a.push({"@id":o});let i=e[n],l=i[o]=i[o]||{};l["@id"]=o;let p=Object.keys(t).sort();for(let h of p){if(h==="@id")continue;if(h==="@reverse"){let y={"@id":o},w=t["@reverse"];for(let u in w){let f=w[u];for(let x of f){let E=x["@id"];$e.isBlankNode(x)&&(E=r.getId(E)),ge.createNodeMap(x,e,n,r,E),qe.addValue(i[E],u,y,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(h==="@graph"){o in e||(e[o]={}),ge.createNodeMap(t[h],e,o,r);continue}if(h==="@included"){ge.createNodeMap(t[h],e,n,r);continue}if(h!=="@type"&&Ja(h)){if(h==="@index"&&h in l&&(t[h]!==l[h]||t[h]["@id"]!==l[h]["@id"]))throw new Cu("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:l});l[h]=t[h];continue}let m=t[h];if(h.indexOf("_:")===0&&(h=r.getId(h)),m.length===0){qe.addValue(l,h,[],{propertyIsArray:!0});continue}for(let y of m)if(h==="@type"&&(y=y.indexOf("_:")===0?r.getId(y):y),$e.isSubject(y)||$e.isSubjectReference(y)){if("@id"in y&&!y["@id"])continue;let w=$e.isBlankNode(y)?r.getId(y["@id"]):y["@id"];qe.addValue(l,h,{"@id":w},{propertyIsArray:!0,allowDuplicate:!1}),ge.createNodeMap(y,e,n,r,w)}else if($e.isValue(y))qe.addValue(l,h,y,{propertyIsArray:!0,allowDuplicate:!1});else if($e.isList(y)){let w=[];ge.createNodeMap(y["@list"],e,n,r,o,w),y={"@list":w},qe.addValue(l,h,y,{propertyIsArray:!0,allowDuplicate:!1})}else ge.createNodeMap(y,e,n,r,o),qe.addValue(l,h,y,{propertyIsArray:!0,allowDuplicate:!1})}};ge.mergeNodeMapGraphs=t=>{let e={};for(let n of Object.keys(t).sort())for(let r of Object.keys(t[n]).sort()){let o=t[n][r];r in e||(e[r]={"@id":r});let a=e[r];for(let i of Object.keys(o).sort())if(Ja(i)&&i!=="@type")a[i]=qe.clone(o[i]);else for(let l of o[i])qe.addValue(a,i,qe.clone(l),{propertyIsArray:!0,allowDuplicate:!1})}return e};ge.mergeNodeMaps=t=>{let e=t["@default"],n=Object.keys(t).sort();for(let r of n){if(r==="@default")continue;let o=t[r],a=e[r];a?"@graph"in a||(a["@graph"]=[]):e[r]=a={"@id":r,"@graph":[]};let i=a["@graph"];for(let l of Object.keys(o).sort()){let p=o[l];$e.isSubjectReference(p)||i.push(p)}}return e}});var Ha=J((Nv,qa)=>{"use strict";v();I();b();var{isSubjectReference:ku}=Fe(),{createMergedNodeMap:Uu}=vn(),$a={};qa.exports=$a;$a.flatten=t=>{let e=Uu(t),n=[],r=Object.keys(e).sort();for(let o=0;o<r.length;++o){let a=e[r[o]];ku(a)||n.push(a)}return n}});var Za=J((Tv,Ya)=>{"use strict";v();I();b();var di=Ie(),si=Fe(),bn=ve(),{REGEX_BCP47:Ga,addValue:Va}=Ee(),{handleEvent:za}=Vt(),{RDF_LIST:Bu,RDF_FIRST:ai,RDF_REST:ci,RDF_NIL:li,RDF_TYPE:Mu,RDF_JSON_LITERAL:Pu,XSD_BOOLEAN:Wa,XSD_DOUBLE:Xa,XSD_INTEGER:Ka,XSD_STRING:ui}=nr(),Qa={};Ya.exports=Qa;Qa.fromRDF=async(t,e)=>{let{useRdfType:n=!1,useNativeTypes:r=!1,rdfDirection:o=null}=e,a={},i={"@default":a},l={};if(o){if(o==="compound-literal")throw new di("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:o});if(o!=="i18n-datatype")throw new di("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:o})}for(let m of t){let y=m.graph.termType==="DefaultGraph"?"@default":m.graph.value;y in i||(i[y]={}),y!=="@default"&&!(y in a)&&(a[y]={"@id":y});let w=i[y],u=m.subject.value,f=m.predicate.value,x=m.object;u in w||(w[u]={"@id":u});let E=w[u],A=x.termType.endsWith("Node");if(A&&!(x.value in w)&&(w[x.value]={"@id":x.value}),f===Mu&&!n&&A){Va(E,"@type",x.value,{propertyIsArray:!0});continue}let _=Ju(x,r,o,e);if(Va(E,f,_,{propertyIsArray:!0}),A)if(x.value===li){let C=w[x.value];"usages"in C||(C.usages=[]),C.usages.push({node:E,property:f,value:_})}else x.value in l?l[x.value]=!1:l[x.value]={node:E,property:f,value:_}}for(let m in i){let y=i[m];if(!(li in y))continue;let w=y[li];if(w.usages){for(let u of w.usages){let f=u.node,x=u.property,E=u.value,A=[],_=[],C=Object.keys(f).length;for(;x===ci&&bn.isObject(l[f["@id"]])&&bn.isArray(f[ai])&&f[ai].length===1&&bn.isArray(f[ci])&&f[ci].length===1&&(C===3||C===4&&bn.isArray(f["@type"])&&f["@type"].length===1&&f["@type"][0]===Bu)&&(A.push(f[ai][0]),_.push(f["@id"]),u=l[f["@id"]],f=u.node,x=u.property,E=u.value,C=Object.keys(f).length,!!si.isBlankNode(f)););delete E["@id"],E["@list"]=A.reverse();for(let R of _)delete y[R]}delete w.usages}}let p=[],h=Object.keys(a).sort();for(let m of h){let y=a[m];if(m in i){let w=y["@graph"]=[],u=i[m],f=Object.keys(u).sort();for(let x of f){let E=u[x];si.isSubjectReference(E)||w.push(E)}}si.isSubjectReference(y)||p.push(y)}return p};function Ju(t,e,n,r){if(t.termType.endsWith("Node"))return{"@id":t.value};let o={"@value":t.value};if(t.language)t.language.match(Ga)||r.eventHandler&&za({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:t.language}},options:r}),o["@language"]=t.language;else{let a=t.datatype.value;if(a||(a=ui),a===Pu){a="@json";try{o["@value"]=JSON.parse(o["@value"])}catch(i){throw new di("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:o["@value"],cause:i})}}if(e){if(a===Wa)o["@value"]==="true"?o["@value"]=!0:o["@value"]==="false"&&(o["@value"]=!1);else if(bn.isNumeric(o["@value"]))if(a===Ka){let i=parseInt(o["@value"],10);i.toFixed(0)===o["@value"]&&(o["@value"]=i)}else a===Xa&&(o["@value"]=parseFloat(o["@value"]));[Wa,Ka,Xa,ui].includes(a)||(o["@type"]=a)}else if(n==="i18n-datatype"&&a.startsWith("https://www.w3.org/ns/i18n#")){let[,i,l]=a.split(/[#_]/);i.length>0&&(o["@language"]=i,i.match(Ga)||r.eventHandler&&za({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:i}},options:r})),o["@direction"]=l}else a!==ui&&(o["@type"]=a)}return o}});var tc=J((Cv,ec)=>{"use strict";v();I();b();ec.exports=function t(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((n,r,o)=>{let a=o===0?"":",",i=r===void 0||typeof r=="symbol"?null:r;return n+a+t(i)},"")+"]":"{"+Object.keys(e).sort().reduce((n,r,o)=>{if(e[r]===void 0||typeof e[r]=="symbol")return n;let a=n.length===0?"":",";return n+a+t(r)+":"+t(e[r])},"")+"}"}});var ac=J((Mv,sc)=>{"use strict";v();I();b();var{createNodeMap:Fu}=vn(),{isKeyword:$u}=ct(),nc=Fe(),qu=tc(),rc=Ie(),In=ve(),Hu=Ee(),{handleEvent:Ot}=Vt(),{RDF_FIRST:Gu,RDF_REST:Vu,RDF_NIL:zu,RDF_TYPE:Wu,RDF_JSON_LITERAL:Xu,RDF_LANGSTRING:Ku,XSD_BOOLEAN:Qu,XSD_DOUBLE:ic,XSD_INTEGER:Yu,XSD_STRING:Zu}=nr(),{isAbsolute:dr}=Qe(),oc={};sc.exports=oc;oc.toRDF=(t,e)=>{let n=new Hu.IdentifierIssuer("_:b"),r={"@default":{}};Fu(t,r,"@default",n);let o=[],a=Object.keys(r).sort();for(let i of a){let l;if(i==="@default")l={termType:"DefaultGraph",value:""};else if(dr(i))i.startsWith("_:")?l={termType:"BlankNode"}:l={termType:"NamedNode"},l.value=i;else{e.eventHandler&&Ot({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:i}},options:e});continue}ed(o,r[i],l,n,e)}return o};function ed(t,e,n,r,o){let a=Object.keys(e).sort();for(let i of a){let l=e[i],p=Object.keys(l).sort();for(let h of p){let m=l[h];if(h==="@type")h=Wu;else if($u(h))continue;for(let y of m){let w={termType:i.startsWith("_:")?"BlankNode":"NamedNode",value:i};if(!dr(i)){o.eventHandler&&Ot({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:i}},options:o});continue}let u={termType:h.startsWith("_:")?"BlankNode":"NamedNode",value:h};if(!dr(h)){o.eventHandler&&Ot({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:h}},options:o});continue}if(u.termType==="BlankNode"&&!o.produceGeneralizedRdf){o.eventHandler&&Ot({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:r.getOldIds().find(x=>r.getId(x)===h)}},options:o});continue}let f=pi(y,r,t,n,o.rdfDirection,o);f&&t.push({subject:w,predicate:u,object:f,graph:n})}}}}function td(t,e,n,r,o,a){let i={termType:"NamedNode",value:Gu},l={termType:"NamedNode",value:Vu},p={termType:"NamedNode",value:zu},h=t.pop(),m=h?{termType:"BlankNode",value:e.getId()}:p,y=m;for(let w of t){let u=pi(w,e,n,r,o,a),f={termType:"BlankNode",value:e.getId()};n.push({subject:y,predicate:i,object:u,graph:r}),n.push({subject:y,predicate:l,object:f,graph:r}),y=f}if(h){let w=pi(h,e,n,r,o,a);n.push({subject:y,predicate:i,object:w,graph:r}),n.push({subject:y,predicate:l,object:p,graph:r})}return m}function pi(t,e,n,r,o,a){let i={};if(nc.isValue(t)){i.termType="Literal",i.value=void 0,i.datatype={termType:"NamedNode"};let l=t["@value"],p=t["@type"]||null;if(p==="@json")i.value=qu(l),i.datatype.value=Xu;else if(In.isBoolean(l))i.value=l.toString(),i.datatype.value=p||Qu;else if(In.isDouble(l)||p===ic)In.isDouble(l)||(l=parseFloat(l)),i.value=l.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),i.datatype.value=p||ic;else if(In.isNumber(l))i.value=l.toFixed(0),i.datatype.value=p||Yu;else if("@direction"in t&&o==="i18n-datatype"){let h=(t["@language"]||"").toLowerCase(),m=t["@direction"],y=`https://www.w3.org/ns/i18n#${h}_${m}`;i.datatype.value=y,i.value=l}else{if("@direction"in t&&o==="compound-literal")throw new rc("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:o});if("@direction"in t&&o)throw new rc("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:o});"@language"in t?("@direction"in t&&!o&&a.eventHandler&&Ot({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:i.value}},options:a}),i.value=l,i.datatype.value=p||Ku,i.language=t["@language"]):("@direction"in t&&!o&&a.eventHandler&&Ot({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:i.value}},options:a}),i.value=l,i.datatype.value=p||Zu)}}else if(nc.isList(t)){let l=td(t["@list"],e,n,r,o,a);i.termType=l.termType,i.value=l.value}else{let l=In.isObject(t)?t["@id"]:t;i.termType=l.startsWith("_:")?"BlankNode":"NamedNode",i.value=l}return i.termType==="NamedNode"&&!dr(i.value)?(a.eventHandler&&Ot({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:i.value}},options:a}),null):i}});var hc=J(($v,fc)=>{"use strict";v();I();b();var{isKeyword:fi}=ct(),Le=Fe(),K=ve(),ce=Ee(),cc=Qe(),En=Ie(),{createNodeMap:nd,mergeNodeMapGraphs:rd}=vn(),je={};fc.exports=je;je.frameMergedOrDefault=(t,e,n)=>{let r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},o=new ce.IdentifierIssuer("_:b");nd(t,r.graphMap,"@default",o),n.merged&&(r.graphMap["@merged"]=rd(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];let a=[];je.frame(r,Object.keys(r.subjects).sort(),e,a),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter(i=>r.bnodeMap[i].length===1));return n.link={},fr(a,n)};je.frame=(t,e,n,r,o=null)=>{dc(n),n=n[0];let a=t.options,i={embed:pr(n,a,"embed"),explicit:pr(n,a,"explicit"),requireAll:pr(n,a,"requireAll")};t.link.hasOwnProperty(t.graph)||(t.link[t.graph]={});let l=t.link[t.graph],p=od(t,e,n,i),h=Object.keys(p).sort();for(let m of h){let y=p[m];if(o===null?t.uniqueEmbeds={[t.graph]:{}}:t.uniqueEmbeds[t.graph]=t.uniqueEmbeds[t.graph]||{},i.embed==="@link"&&m in l){Lt(r,o,l[m]);continue}let w={"@id":m};if(m.indexOf("_:")===0&&ce.addValue(t.bnodeMap,m,w,{propertyIsArray:!0}),l[m]=w,(i.embed==="@first"||i.embed==="@last")&&t.is11)throw new En("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(!(!t.embedded&&t.uniqueEmbeds[t.graph].hasOwnProperty(m))){if(t.embedded&&(i.embed==="@never"||id(y,t.graph,t.subjectStack))){Lt(r,o,w);continue}if(t.embedded&&(i.embed=="@first"||i.embed=="@once")&&t.uniqueEmbeds[t.graph].hasOwnProperty(m)){Lt(r,o,w);continue}if(i.embed==="@last"&&m in t.uniqueEmbeds[t.graph]&&sd(t,m),t.uniqueEmbeds[t.graph][m]={parent:r,property:o},t.subjectStack.push({subject:y,graph:t.graph}),m in t.graphMap){let u=!1,f=null;"@graph"in n?(f=n["@graph"][0],u=!(m==="@merged"||m==="@default"),K.isObject(f)||(f={})):(u=t.graph!=="@merged",f={}),u&&je.frame({...t,graph:m,embedded:!1},Object.keys(t.graphMap[m]).sort(),[f],w,"@graph")}"@included"in n&&je.frame({...t,embedded:!1},e,n["@included"],w,"@included");for(let u of Object.keys(y).sort()){if(fi(u)){if(w[u]=ce.clone(y[u]),u==="@type")for(let f of y["@type"])f.indexOf("_:")===0&&ce.addValue(t.bnodeMap,f,w,{propertyIsArray:!0});continue}if(!(i.explicit&&!(u in n)))for(let f of y[u]){let x=u in n?n[u]:lc(i);if(Le.isList(f)){let E=n[u]&&n[u][0]&&n[u][0]["@list"]?n[u][0]["@list"]:lc(i),A={"@list":[]};Lt(w,u,A);let _=f["@list"];for(let C of _)Le.isSubjectReference(C)?je.frame({...t,embedded:!0},[C["@id"]],E,A,"@list"):Lt(A,"@list",ce.clone(C))}else Le.isSubjectReference(f)?je.frame({...t,embedded:!0},[f["@id"]],x,w,u):hi(x[0],f)&&Lt(w,u,ce.clone(f))}}for(let u of Object.keys(n).sort()){if(u==="@type"){if(!K.isObject(n[u][0])||!("@default"in n[u][0]))continue}else if(fi(u))continue;let f=n[u][0]||{};if(!pr(f,a,"omitDefault")&&!(u in w)){let E="@null";"@default"in f&&(E=ce.clone(f["@default"])),K.isArray(E)||(E=[E]),w[u]=[{"@preserve":E}]}}for(let u of Object.keys(n["@reverse"]||{}).sort()){let f=n["@reverse"][u];for(let x of Object.keys(t.subjects))ce.getValues(t.subjects[x],u).some(A=>A["@id"]===m)&&(w["@reverse"]=w["@reverse"]||{},ce.addValue(w["@reverse"],u,[],{propertyIsArray:!0}),je.frame({...t,embedded:!0},[x],f,w["@reverse"][u],o))}Lt(r,o,w),t.subjectStack.pop()}}};je.cleanupNull=(t,e)=>{if(K.isArray(t))return t.map(r=>je.cleanupNull(r,e)).filter(r=>r);if(t==="@null")return null;if(K.isObject(t)){if("@id"in t){let n=t["@id"];if(e.link.hasOwnProperty(n)){let r=e.link[n].indexOf(t);if(r!==-1)return e.link[n][r];e.link[n].push(t)}else e.link[n]=[t]}for(let n in t)t[n]=je.cleanupNull(t[n],e)}return t};function lc(t){let e={};for(let n in t)t[n]!==void 0&&(e["@"+n]=[t[n]]);return[e]}function id(t,e,n){for(let r=n.length-1;r>=0;--r){let o=n[r];if(o.graph===e&&o.subject["@id"]===t["@id"])return!0}return!1}function pr(t,e,n){let r="@"+n,o=r in t?t[r][0]:e[n];if(n==="embed"){if(o===!0)o="@once";else if(o===!1)o="@never";else if(o!=="@always"&&o!=="@never"&&o!=="@link"&&o!=="@first"&&o!=="@last"&&o!=="@once")throw new En("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:t})}return o}function dc(t){if(!K.isArray(t)||t.length!==1||!K.isObject(t[0]))throw new En("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:t});if("@id"in t[0]){for(let e of ce.asArray(t[0]["@id"]))if(!(K.isObject(e)||cc.isAbsolute(e))||K.isString(e)&&e.indexOf("_:")===0)throw new En("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:t})}if("@type"in t[0]){for(let e of ce.asArray(t[0]["@type"]))if(!(K.isObject(e)||cc.isAbsolute(e)||e==="@json")||K.isString(e)&&e.indexOf("_:")===0)throw new En("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:t})}}function od(t,e,n,r){let o={};for(let a of e){let i=t.graphMap[t.graph][a];pc(t,i,n,r)&&(o[a]=i)}return o}function pc(t,e,n,r){let o=!0,a=!1;for(let i in n){let l=!1,p=ce.getValues(e,i),h=ce.getValues(n,i).length===0;if(i==="@id"){if(K.isEmptyObject(n["@id"][0]||{})?l=!0:n["@id"].length>=0&&(l=n["@id"].includes(p[0])),!r.requireAll)return l}else if(i==="@type"){if(o=!1,h){if(p.length>0)return!1;l=!0}else if(n["@type"].length===1&&K.isEmptyObject(n["@type"][0]))l=p.length>0;else for(let m of n["@type"])K.isObject(m)&&"@default"in m?l=!0:l=l||p.some(y=>y===m);if(!r.requireAll)return l}else{if(fi(i))continue;{let m=ce.getValues(n,i)[0],y=!1;if(m&&(dc([m]),y="@default"in m),o=!1,p.length===0&&y)continue;if(p.length>0&&h)return!1;if(m===void 0){if(p.length>0)return!1;l=!0}else if(Le.isList(m)){let w=m["@list"][0];if(Le.isList(p[0])){let u=p[0]["@list"];Le.isValue(w)?l=u.some(f=>hi(w,f)):(Le.isSubject(w)||Le.isSubjectReference(w))&&(l=u.some(f=>uc(t,w,f,r)))}}else Le.isValue(m)?l=p.some(w=>hi(m,w)):Le.isSubjectReference(m)?l=p.some(w=>uc(t,m,w,r)):K.isObject(m)?l=p.length>0:l=!1}}if(!l&&r.requireAll)return!1;a=a||l}return o||a}function sd(t,e){let n=t.uniqueEmbeds[t.graph],r=n[e],o=r.parent,a=r.property,i={"@id":e};if(K.isArray(o)){for(let p=0;p<o.length;++p)if(ce.compareValues(o[p],i)){o[p]=i;break}}else{let p=K.isArray(o[a]);ce.removeValue(o,a,i,{propertyIsArray:p}),ce.addValue(o,a,i,{propertyIsArray:p})}let l=p=>{let h=Object.keys(n);for(let m of h)m in n&&K.isObject(n[m].parent)&&n[m].parent["@id"]===p&&(delete n[m],l(m))};l(e)}function fr(t,e){if(K.isArray(t))return t.map(n=>fr(n,e));if(K.isObject(t)){if("@preserve"in t)return t["@preserve"][0];if(Le.isValue(t))return t;if(Le.isList(t))return t["@list"]=fr(t["@list"],e),t;if("@id"in t){let n=t["@id"];if(e.link.hasOwnProperty(n)){let r=e.link[n].indexOf(t);if(r!==-1)return e.link[n][r];e.link[n].push(t)}else e.link[n]=[t]}for(let n in t){if(n==="@id"&&e.bnodesToClear.includes(t[n])){delete t["@id"];continue}t[n]=fr(t[n],e)}}return t}function Lt(t,e,n){K.isObject(t)?ce.addValue(t,e,n,{propertyIsArray:!0}):t.push(n)}function uc(t,e,n,r){if(!("@id"in n))return!1;let o=t.subjects[n["@id"]];return o&&pc(t,o,e,r)}function hi(t,e){let n=e["@value"],r=e["@type"],o=e["@language"],a=t["@value"]?K.isArray(t["@value"])?t["@value"]:[t["@value"]]:[],i=t["@type"]?K.isArray(t["@type"])?t["@type"]:[t["@type"]]:[],l=t["@language"]?K.isArray(t["@language"])?t["@language"]:[t["@language"]]:[];return a.length===0&&i.length===0&&l.length===0?!0:!(!(a.includes(n)||K.isEmptyObject(a[0]))||!(!r&&i.length===0||i.includes(r)||r&&K.isEmptyObject(i[0]))||!(!o&&l.length===0||l.includes(o)||o&&K.isEmptyObject(l[0])))}});var xc=J((Vv,Ec)=>{"use strict";v();I();b();var vi=Ie(),{isArray:ut,isObject:dt,isString:wc,isUndefined:gi}=ve(),{isList:wi,isValue:et,isGraph:vc,isSimpleGraph:gc,isSubjectReference:mi}=Fe(),{expandIri:bc,getContextValue:me,isKeyword:Ic,process:yi,processingMode:ad}=ct(),{removeBase:mc,prependBase:cd}=Qe(),{REGEX_KEYWORD:ld,addValue:Ne,asArray:hr,compareShortestLeast:ud}=Ee(),F={};Ec.exports=F;F.compact=async({activeCtx:t,activeProperty:e=null,element:n,options:r={}})=>{if(ut(n)){let a=[];for(let i=0;i<n.length;++i){let l=await F.compact({activeCtx:t,activeProperty:e,element:n[i],options:r});l!==null&&a.push(l)}return r.compactArrays&&a.length===1&&(me(t,e,"@container")||[]).length===0&&(a=a[0]),a}let o=me(t,e,"@context");if(gi(o)||(t=await yi({activeCtx:t,localCtx:o,propagate:!0,overrideProtected:!0,options:r})),dt(n)){if(r.link&&"@id"in n&&r.link.hasOwnProperty(n["@id"])){let w=r.link[n["@id"]];for(let u=0;u<w.length;++u)if(w[u].expanded===n)return w[u].compacted}if(et(n)||mi(n)){let w=F.compactValue({activeCtx:t,activeProperty:e,value:n,options:r});return r.link&&mi(n)&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:w})),w}if(wi(n)&&(me(t,e,"@container")||[]).includes("@list"))return F.compact({activeCtx:t,activeProperty:e,element:n["@list"],options:r});let a=e==="@reverse",i={},l=t;!et(n)&&!mi(n)&&(t=t.revertToPreviousContext());let p=me(l,e,"@context");gi(p)||(t=await yi({activeCtx:t,localCtx:p,propagate:!0,overrideProtected:!0,options:r})),r.link&&"@id"in n&&(r.link.hasOwnProperty(n["@id"])||(r.link[n["@id"]]=[]),r.link[n["@id"]].push({expanded:n,compacted:i}));let h=n["@type"]||[];h.length>1&&(h=Array.from(h).sort());let m=t;for(let w of h){let u=F.compactIri({activeCtx:m,iri:w,relativeTo:{vocab:!0}}),f=me(l,u,"@context");gi(f)||(t=await yi({activeCtx:t,localCtx:f,options:r,propagate:!1}))}let y=Object.keys(n).sort();for(let w of y){let u=n[w];if(w==="@id"){let f=hr(u).map(E=>F.compactIri({activeCtx:t,iri:E,relativeTo:{vocab:!1},base:r.base}));f.length===1&&(f=f[0]);let x=F.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}});i[x]=f;continue}if(w==="@type"){let f=hr(u).map(C=>F.compactIri({activeCtx:l,iri:C,relativeTo:{vocab:!0}}));f.length===1&&(f=f[0]);let x=F.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}}),_=(me(t,x,"@container")||[]).includes("@set")&&ad(t,1.1)||ut(f)&&u.length===0;Ne(i,x,f,{propertyIsArray:_});continue}if(w==="@reverse"){let f=await F.compact({activeCtx:t,activeProperty:"@reverse",element:u,options:r});for(let x in f)if(t.mappings.has(x)&&t.mappings.get(x).reverse){let E=f[x],_=(me(t,x,"@container")||[]).includes("@set")||!r.compactArrays;Ne(i,x,E,{propertyIsArray:_}),delete f[x]}if(Object.keys(f).length>0){let x=F.compactIri({activeCtx:t,iri:w,relativeTo:{vocab:!0}});Ne(i,x,f)}continue}if(w==="@preserve"){let f=await F.compact({activeCtx:t,activeProperty:e,element:u,options:r});ut(f)&&f.length===0||Ne(i,w,f);continue}if(w==="@index"){if((me(t,e,"@container")||[]).includes("@index"))continue;let x=F.compactIri({activeCtx:t,iri:w,relativeTo:{vocab:!0}});Ne(i,x,u);continue}if(w!=="@graph"&&w!=="@list"&&w!=="@included"&&Ic(w)){let f=F.compactIri({activeCtx:t,iri:w,relativeTo:{vocab:!0}});Ne(i,f,u);continue}if(!ut(u))throw new vi("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(u.length===0){let f=F.compactIri({activeCtx:t,iri:w,value:u,relativeTo:{vocab:!0},reverse:a}),x=t.mappings.has(f)?t.mappings.get(f)["@nest"]:null,E=i;x&&(yc(t,x,r),dt(i[x])||(i[x]={}),E=i[x]),Ne(E,f,u,{propertyIsArray:!0})}for(let f of u){let x=F.compactIri({activeCtx:t,iri:w,value:f,relativeTo:{vocab:!0},reverse:a}),E=t.mappings.has(x)?t.mappings.get(x)["@nest"]:null,A=i;E&&(yc(t,E,r),dt(i[E])||(i[E]={}),A=i[E]);let _=me(t,x,"@container")||[],C=vc(f),R=wi(f),B;R?B=f["@list"]:C&&(B=f["@graph"]);let k=await F.compact({activeCtx:t,activeProperty:x,element:R||C?B:f,options:r});if(R)if(ut(k)||(k=[k]),!_.includes("@list"))k={[F.compactIri({activeCtx:t,iri:"@list",relativeTo:{vocab:!0}})]:k},"@index"in f&&(k[F.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=f["@index"]);else{Ne(A,x,k,{valueIsArray:!0,allowDuplicate:!0});continue}if(C)if(_.includes("@graph")&&(_.includes("@id")||_.includes("@index")&&gc(f))){let G;A.hasOwnProperty(x)?G=A[x]:A[x]=G={};let z=(_.includes("@id")?f["@id"]:f["@index"])||F.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}});Ne(G,z,k,{propertyIsArray:!r.compactArrays||_.includes("@set")})}else _.includes("@graph")&&gc(f)?(ut(k)&&k.length>1&&(k={"@included":k}),Ne(A,x,k,{propertyIsArray:!r.compactArrays||_.includes("@set")})):(ut(k)&&k.length===1&&r.compactArrays&&(k=k[0]),k={[F.compactIri({activeCtx:t,iri:"@graph",relativeTo:{vocab:!0}})]:k},"@id"in f&&(k[F.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]=f["@id"]),"@index"in f&&(k[F.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=f["@index"]),Ne(A,x,k,{propertyIsArray:!r.compactArrays||_.includes("@set")}));else if(_.includes("@language")||_.includes("@index")||_.includes("@id")||_.includes("@type")){let G;A.hasOwnProperty(x)?G=A[x]:A[x]=G={};let z;if(_.includes("@language"))et(k)&&(k=k["@value"]),z=f["@language"];else if(_.includes("@index")){let Q=me(t,x,"@index")||"@index",D=F.compactIri({activeCtx:t,iri:Q,relativeTo:{vocab:!0}});if(Q==="@index")z=f["@index"],delete k[D];else{let U;if([z,...U]=hr(k[Q]||[]),!wc(z))z=null;else switch(U.length){case 0:delete k[Q];break;case 1:k[Q]=U[0];break;default:k[Q]=U;break}}}else if(_.includes("@id")){let Q=F.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}});z=k[Q],delete k[Q]}else if(_.includes("@type")){let Q=F.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}}),D;switch([z,...D]=hr(k[Q]||[]),D.length){case 0:delete k[Q];break;case 1:k[Q]=D[0];break;default:k[Q]=D;break}Object.keys(k).length===1&&"@id"in f&&(k=await F.compact({activeCtx:t,activeProperty:x,element:{"@id":f["@id"]},options:r}))}z||(z=F.compactIri({activeCtx:t,iri:"@none",relativeTo:{vocab:!0}})),Ne(G,z,k,{propertyIsArray:_.includes("@set")})}else{let G=!r.compactArrays||_.includes("@set")||_.includes("@list")||ut(k)&&k.length===0||w==="@list"||w==="@graph";Ne(A,x,k,{propertyIsArray:G})}}}return i}return n};F.compactIri=({activeCtx:t,iri:e,value:n=null,relativeTo:r={vocab:!1},reverse:o=!1,base:a=null})=>{if(e===null)return e;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);let i=t.getInverse();if(Ic(e)&&e in i&&"@none"in i[e]&&"@type"in i[e]["@none"]&&"@none"in i[e]["@none"]["@type"])return i[e]["@none"]["@type"]["@none"];if(r.vocab&&e in i){let y=t["@language"]||"@none",w=[];dt(n)&&"@index"in n&&!("@graph"in n)&&w.push("@index","@index@set"),dt(n)&&"@preserve"in n&&(n=n["@preserve"][0]),vc(n)?("@index"in n&&w.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&w.push("@graph@id","@graph@id@set"),w.push("@graph","@graph@set","@set"),"@index"in n||w.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||w.push("@graph@id","@graph@id@set")):dt(n)&&!et(n)&&w.push("@id","@id@set","@type","@set@type");let u="@language",f="@null";if(o)u="@type",f="@reverse",w.push("@set");else if(wi(n)){"@index"in n||w.push("@list");let E=n["@list"];if(E.length===0)u="@any",f="@none";else{let A=E.length===0?y:null,_=null;for(let C=0;C<E.length;++C){let R=E[C],B="@none",k="@none";if(et(R))if("@direction"in R){let G=(R["@language"]||"").toLowerCase(),z=R["@direction"];B=`${G}_${z}`}else"@language"in R?B=R["@language"].toLowerCase():"@type"in R?k=R["@type"]:B="@null";else k="@id";if(A===null?A=B:B!==A&&et(R)&&(A="@none"),_===null?_=k:k!==_&&(_="@none"),A==="@none"&&_==="@none")break}A=A||"@none",_=_||"@none",_!=="@none"?(u="@type",f=_):f=A}}else{if(et(n))if("@language"in n&&!("@index"in n)){w.push("@language","@language@set"),f=n["@language"];let E=n["@direction"];E&&(f=`${f}_${E}`)}else"@direction"in n&&!("@index"in n)?f=`_${n["@direction"]}`:"@type"in n&&(u="@type",f=n["@type"]);else u="@type",f="@id";w.push("@set")}w.push("@none"),dt(n)&&!("@index"in n)&&w.push("@index","@index@set"),et(n)&&Object.keys(n).length===1&&w.push("@language","@language@set");let x=dd(t,e,n,w,u,f);if(x!==null)return x}if(r.vocab&&"@vocab"in t){let y=t["@vocab"];if(e.indexOf(y)===0&&e!==y){let w=e.substr(y.length);if(!t.mappings.has(w))return w}}let l=null,p=[],h=t.fastCurieMap,m=e.length-1;for(let y=0;y<m&&e[y]in h;++y)h=h[e[y]],""in h&&p.push(h[""][0]);for(let y=p.length-1;y>=0;--y){let w=p[y],u=w.terms;for(let f of u){let x=f+":"+e.substr(w.iri.length);t.mappings.get(f)._prefix&&(!t.mappings.has(x)||n===null&&t.mappings.get(x)["@id"]===e)&&(l===null||ud(x,l)<0)&&(l=x)}}if(l!==null)return l;for(let[y,w]of t.mappings)if(w&&w._prefix&&e.startsWith(y+":"))throw new vi(`Absolute IRI "${e}" confused with prefix "${y}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t});if(!r.vocab)if("@base"in t)if(t["@base"]){let y=mc(cd(a,t["@base"]),e);return ld.test(y)?`./${y}`:y}else return e;else return mc(a,e);return e};F.compactValue=({activeCtx:t,activeProperty:e,value:n,options:r})=>{if(et(n)){let l=me(t,e,"@type"),p=me(t,e,"@language"),h=me(t,e,"@direction"),m=me(t,e,"@container")||[],y="@index"in n&&!m.includes("@index");if(!y&&l!=="@none"&&(n["@type"]===l||"@language"in n&&n["@language"]===p&&"@direction"in n&&n["@direction"]===h||"@language"in n&&n["@language"]===p||"@direction"in n&&n["@direction"]===h))return n["@value"];let w=Object.keys(n).length,u=w===1||w===2&&"@index"in n&&!y,f="@language"in t,x=wc(n["@value"]),E=t.mappings.has(e)&&t.mappings.get(e)["@language"]===null;if(u&&l!=="@none"&&(!f||!x||E))return n["@value"];let A={};return y&&(A[F.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?A[F.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=F.compactIri({activeCtx:t,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(A[F.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(A[F.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),A[F.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],A}let o=bc(t,e,{vocab:!0},r),a=me(t,e,"@type"),i=F.compactIri({activeCtx:t,iri:n["@id"],relativeTo:{vocab:a==="@vocab"},base:r.base});return a==="@id"||a==="@vocab"||o==="@graph"?i:{[F.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}})]:i}};function dd(t,e,n,r,o,a){a===null&&(a="@null");let i=[];if((a==="@id"||a==="@reverse")&&dt(n)&&"@id"in n){a==="@reverse"&&i.push("@reverse");let p=F.compactIri({activeCtx:t,iri:n["@id"],relativeTo:{vocab:!0}});t.mappings.has(p)&&t.mappings.get(p)&&t.mappings.get(p)["@id"]===n["@id"]?i.push.apply(i,["@vocab","@id"]):i.push.apply(i,["@id","@vocab"])}else{i.push(a);let p=i.find(h=>h.includes("_"));p&&i.push(p.replace(/^[^_]+_/,"_"))}i.push("@none");let l=t.inverse[e];for(let p of r){if(!(p in l))continue;let h=l[p][o];for(let m of i)if(m in h)return h[m]}return null}function yc(t,e,n){if(bc(t,e,{vocab:!0},n)!=="@nest")throw new vi("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}});var Ac=J((Kv,Sc)=>{"use strict";v();I();b();Sc.exports=t=>{class e{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(e,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(e.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:e}),e.compact=function(n,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):t.compact(n,r)},e.expand=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):t.expand(n)},e.flatten=function(n){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):t.flatten(n)},e}});var Oc=J((eb,Tc)=>{v();I();b();var Nc=er(),Dc=ua(),pt=Ee(),tt=Sa(),bi=pt.IdentifierIssuer,He=Ie(),pd=Wr(),gr=Na(),{expand:fd}=Pa(),{flatten:hd}=Ha(),{fromRDF:gd}=Za(),{toRDF:md}=ac(),{frameMergedOrDefault:yd,cleanupNull:wd}=hc(),{isArray:Xt,isObject:jt,isString:Ge}=ve(),{isSubjectReference:vd}=Fe(),{expandIri:bd,getInitialContext:mr,process:_c,processingMode:Ii}=ct(),{compact:Id,compactIri:Ed}=xc(),{createNodeMap:xd,createMergedNodeMap:Sd,mergeNodeMaps:Ad}=vn(),{logEventHandler:Nd,logWarningEventHandler:Dd,safeEventHandler:_d,setDefaultEventHandler:Rd,setupEventHandler:Td,strictEventHandler:Od,unhandledEventHandler:Ld}=Vt(),Rc=function(t){let e={},r=new pd({max:100});t.compact=async function(a,i,l){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(i===null)throw new He("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(a===null)return null;l=o(l,{base:Ge(a)?a:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new bi("_:b"),contextResolver:new tt({sharedCache:r})}),l.link&&(l.skipExpansion=!0),l.compactToRelative||delete l.base;let p;l.skipExpansion?p=a:p=await t.expand(a,l);let h=await t.processContext(mr(l),i,l),m=await Id({activeCtx:h,element:p,options:l});l.compactArrays&&!l.graph&&Xt(m)?m.length===1?m=m[0]:m.length===0&&(m={}):l.graph&&jt(m)&&(m=[m]),jt(i)&&"@context"in i&&(i=i["@context"]),i=pt.clone(i),Xt(i)||(i=[i]);let y=i;i=[];for(let u=0;u<y.length;++u)(!jt(y[u])||Object.keys(y[u]).length>0)&&i.push(y[u]);let w=i.length>0;if(i.length===1&&(i=i[0]),Xt(m)){let u=Ed({activeCtx:h,iri:"@graph",relativeTo:{vocab:!0}}),f=m;m={},w&&(m["@context"]=i),m[u]=f}else if(jt(m)&&w){let u=m;m={"@context":i};for(let f in u)m[f]=u[f]}return m},t.expand=async function(a,i){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");i=o(i,{keepFreeFloatingNodes:!1,contextResolver:new tt({sharedCache:r})});let l={},p=[];if("expandContext"in i){let w=pt.clone(i.expandContext);jt(w)&&"@context"in w?l.expandContext=w:l.expandContext={"@context":w},p.push(l.expandContext)}let h;if(!Ge(a))l.input=pt.clone(a);else{let w=await t.get(a,i);h=w.documentUrl,l.input=w.document,w.contextUrl&&(l.remoteContext={"@context":w.contextUrl},p.push(l.remoteContext))}"base"in i||(i.base=h||"");let m=mr(i);for(let w of p)m=await _c({activeCtx:m,localCtx:w,options:i});let y=await fd({activeCtx:m,element:l.input,options:i});return jt(y)&&"@graph"in y&&Object.keys(y).length===1?y=y["@graph"]:y===null&&(y=[]),Xt(y)||(y=[y]),y},t.flatten=async function(a,i,l){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof i=="function"?i=null:i=i||null,l=o(l,{base:Ge(a)?a:"",contextResolver:new tt({sharedCache:r})});let p=await t.expand(a,l),h=hd(p);return i===null?h:(l.graph=!0,l.skipExpansion=!0,await t.compact(h,i,l))},t.frame=async function(a,i,l){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(l=o(l,{base:Ge(a)?a:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new tt({sharedCache:r})}),Ge(i)){let E=await t.get(i,l);if(i=E.document,E.contextUrl){let A=i["@context"];A?Xt(A)?A.push(E.contextUrl):A=[A,E.contextUrl]:A=E.contextUrl,i["@context"]=A}}let p=i?i["@context"]||{}:{},h=await t.processContext(mr(l),p,l);l.hasOwnProperty("omitGraph")||(l.omitGraph=Ii(h,1.1)),l.hasOwnProperty("pruneBlankNodeIdentifiers")||(l.pruneBlankNodeIdentifiers=Ii(h,1.1));let m=await t.expand(a,l),y={...l};y.isFrame=!0,y.keepFreeFloatingNodes=!0;let w=await t.expand(i,y),u=Object.keys(i).map(E=>bd(h,E,{vocab:!0}));y.merged=!u.includes("@graph"),y.is11=Ii(h,1.1);let f=yd(m,w,y);y.graph=!l.omitGraph,y.skipExpansion=!0,y.link={},y.framing=!0;let x=await t.compact(f,p,y);return y.link={},x=wd(x,y),x},t.link=async function(a,i,l){let p={};return i&&(p["@context"]=i),p["@embed"]="@link",t.frame(a,p,l)},t.normalize=t.canonize=async function(a,i){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(i=o(i,{base:Ge(a)?a:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new tt({sharedCache:r})}),"inputFormat"in i){if(i.inputFormat!=="application/n-quads"&&i.inputFormat!=="application/nquads")throw new He("Unknown canonicalization input format.","jsonld.CanonizeError");let h=gr.parse(a);return Nc.canonize(h,i)}let l={...i};delete l.format,l.produceGeneralizedRdf=!1;let p=await t.toRDF(a,l);return Nc.canonize(p,i)},t.fromRDF=async function(a,i){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");i=o(i,{format:Ge(a)?"application/n-quads":void 0});let{format:l}=i,{rdfParser:p}=i;if(l){if(p=p||e[l],!p)throw new He("Unknown input format.","jsonld.UnknownFormat",{format:l})}else p=()=>a;let h=await p(a);return gd(h,i)},t.toRDF=async function(a,i){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");i=o(i,{base:Ge(a)?a:"",skipExpansion:!1,contextResolver:new tt({sharedCache:r})});let l;i.skipExpansion?l=a:l=await t.expand(a,i);let p=md(l,i);if(i.format){if(i.format==="application/n-quads"||i.format==="application/nquads")return gr.serialize(p);throw new He("Unknown output format.","jsonld.UnknownFormat",{format:i.format})}return p},t.createNodeMap=async function(a,i){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");i=o(i,{base:Ge(a)?a:"",contextResolver:new tt({sharedCache:r})});let l=await t.expand(a,i);return Sd(l,i)},t.merge=async function(a,i,l){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!Xt(a))throw new TypeError('Could not merge, "docs" must be an array.');typeof i=="function"?i=null:i=i||null,l=o(l,{contextResolver:new tt({sharedCache:r})});let p=await Promise.all(a.map(E=>{let A={...l};return t.expand(E,A)})),h=!0;"mergeNodes"in l&&(h=l.mergeNodes);let m=l.issuer||new bi("_:b"),y={"@default":{}};for(let E=0;E<p.length;++E){let A=pt.relabelBlankNodes(p[E],{issuer:new bi("_:b"+E+"-")}),_=h||E===0?y:{"@default":{}};if(xd(A,_,"@default",m),_!==y)for(let C in _){let R=_[C];if(!(C in y)){y[C]=R;continue}let B=y[C];for(let k in R)k in B||(B[k]=R[k])}}let w=Ad(y),u=[],f=Object.keys(w).sort();for(let E=0;E<f.length;++E){let A=w[f[E]];vd(A)||u.push(A)}return i===null?u:(l.graph=!0,l.skipExpansion=!0,await t.compact(u,i,l))},Object.defineProperty(t,"documentLoader",{get:()=>t._documentLoader,set:a=>t._documentLoader=a}),t.documentLoader=async a=>{throw new He("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:a})},t.get=async function(a,i){let l;typeof i.documentLoader=="function"?l=i.documentLoader:l=t.documentLoader;let p=await l(a);try{if(!p.document)throw new He("No remote document found at the given URL.","jsonld.NullRemoteDocument");Ge(p.document)&&(p.document=JSON.parse(p.document))}catch(h){throw new He("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:h,remoteDoc:p})}return p},t.processContext=async function(a,i,l){return l=o(l,{base:"",contextResolver:new tt({sharedCache:r})}),i===null?mr(l):(i=pt.clone(i),jt(i)&&"@context"in i||(i={"@context":i}),_c({activeCtx:a,localCtx:i,options:l}))},t.getContextValue=ct().getContextValue,t.documentLoaders={},t.useDocumentLoader=function(a){if(!(a in t.documentLoaders))throw new He('Unknown document loader type: "'+a+'"',"jsonld.UnknownDocumentLoader",{type:a});t.documentLoader=t.documentLoaders[a].apply(t,Array.prototype.slice.call(arguments,1))},t.registerRDFParser=function(a,i){e[a]=i},t.unregisterRDFParser=function(a){delete e[a]},t.registerRDFParser("application/n-quads",gr.parse),t.registerRDFParser("application/nquads",gr.parse),t.url=Qe(),t.logEventHandler=Nd,t.logWarningEventHandler=Dd,t.safeEventHandler=_d,t.setDefaultEventHandler=Rd,t.strictEventHandler=Od,t.unhandledEventHandler=Ld,t.util=pt,Object.assign(t,pt),t.promises=t,t.RequestQueue=$r(),t.JsonLdProcessor=Ac()(t),Dc.setupGlobals(t),Dc.setupDocumentLoaders(t);function o(a,{documentLoader:i=t.documentLoader,...l}){if(a&&"compactionMap"in a)throw new He('"compactionMap" not supported.',"jsonld.OptionsError");if(a&&"expansionMap"in a)throw new He('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:i},l,a,{eventHandler:Td({options:a})})}return t},Ei=function(){return Rc(function(){return Ei()})};Rc(Ei);Tc.exports=Ei});v();I();b();v();I();b();v();I();b();v();I();b();v();I();b();function Ar(t){this.message=t}Ar.prototype=new Error,Ar.prototype.name="InvalidCharacterError";var np=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new Ar("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,a=0,i="";r=e.charAt(a++);~r&&(n=o%4?64*n+r:r,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function as(t){this.message=t}as.prototype=new Error,as.prototype.name="InvalidTokenError";var ps=Ui(us(),1);var _r={};ki(_r,{Decorator:()=>Nr,UndefinedError:()=>wt,ValidationError:()=>On,WrappedError:()=>Tn,_decryptStringWithRsaPrivateKey:()=>dl,_decryptWithSymetricKey:()=>ul,_encryptStringWithRsaPublicKey:()=>Dr,_encryptWithSymetricKey:()=>ll,assert:()=>we,assertInEnum:()=>cl,assertObject:()=>sl,catchUndefined:()=>ol,formatMillis:()=>Ln,generateKeyPair:()=>pl,sanitizePath:()=>Ce,simplifyPath:()=>ds,throwOnUndefined:()=>il,tryConst:()=>al});v();I();b();v();I();b();var Xe={};var Tn=class extends Error{constructor(e,n){super(e||"Undefined"),this.cause=n}getCause(){return this.cause}},wt=class extends Error{constructor(e){super(e||"Undefined")}},On=class extends Tn{constructor(e,n){super(e,n)}};function il(t){return e=>{if(e==null||e==null)throw new wt(t);return e}}function ol(t){if(!(t instanceof wt))throw t}function we(t,e){if(!t)throw new On(e||"Assertion failed : "+t)}function sl(t,e=""){for(let n in t)t.hasOwnProperty(n)&&we(!(t[n]==null||t[n]==null||t[n]==""),`${e}Missing property [${n}]`)}function al(t,e){try{return t()}catch(n){if(e)return e(n);throw n}}function Ln(t){return(t/1e3).toFixed(1).padStart(5," ")}function ds(t){let e=t.startsWith("/"),n=t.length>1&&t.endsWith("/");for(var r=t.split("/"),o=[],a=r.length,i="",l=0;l<a;l++)i=r[l],!(i===""||i===".")&&(i===".."?o.pop():o.push(i));return(e?"/":"")+o.join("/")+(n?"/":"")}function Ce(t,e,n="KEEP"){let r=t.startsWith("/"),o=t.length>1&&t.endsWith("/");for(;t.startsWith("/");)t=t.substring(1);for(;t.endsWith("/");)t=t.substring(0,t.length-1);let a=n=="ABSOLUTE"||n=="KEEP"&&r,i=(e=="SLASH"||e=="KEEP"&&o)&&t.length>0;return(a?"/":"")+t+(i?"/":"")}function cl(t,e,n){we(Object.values(e).includes(t),n||`Invalid type : ${t}`)}function Nr(...t){let e=class{constructor(n){this.base=n}};return t.forEach(n=>{e.prototype[n]=function(...r){return this.base[n](...r)}}),e}function ll(t,e){let n=Xe.createCipher("aes-256-ctr",e);return n.update(t,"utf8","hex")+n.final("hex")}function ul(t,e){let n=Xe.createDecipher("aes-256-ctr",e);return n.update(t,"hex","utf8")+n.final("utf8")}function Dr(t,e){let n=L.from(t);return Xe.publicEncrypt({key:e,padding:Xe.constants.RSA_PKCS1_OAEP_PADDING,oaepHash:"sha256"},n).toString("base64")}function dl(t,e){let n=L.from(t,"base64");return Xe.privateDecrypt({key:e,passphrase:"top secret",padding:Xe.constants.RSA_PKCS1_OAEP_PADDING,oaepHash:"sha256"},n).toString("utf8")}function pl(){return Xe.generateKeyPairSync("rsa",{modulusLength:4096,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem",cipher:"aes-256-cbc",passphrase:"top secret"}})}var Rr={DEBUG:!0};async function tn(t){if(!(t?.status==404||t instanceof wt))throw t}function bt(t,e){let n=e||new URLSearchParams;return Object.entries(t).forEach(([r,o])=>{o!==void 0&&n.append(r,o.toString())}),n}function Tr(t,e){t=typeof t=="string"?new URL(t):t;let n=bt(e,t.searchParams);return t.search=n.toString(),t}function fl(t){return typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}function hl(t,e){let n=Date.now();if(Rr.DEBUG&&console.log(`[${new Date().toUTCString()}] [HTTP ==>] : ${e?.method||"GET"} ${t}`),e?.body&&typeof e.body=="object"&&typeof e.body.constructor=="function"&&typeof e.body.constructor.name=="string"&&/^(Blob|File)$/.test(e.body.constructor.name)&&/^(Blob|File)$/.test(e.body[Symbol.toStringTag])&&!fl(e.body))throw new Error("Wrong Blob implementation");return e?.query&&(t=Tr(t,e.query).toString()),(0,ps.default)(t,e).catch(r=>{throw Rr.DEBUG&&console.log(`[${new Date().toUTCString()}] [HTTP ERR] [${Ln(Date.now()-n)}s]: ${e?.method||"GET"} ${t} ${r}`),new vt(999,r)}).then(r=>(Rr.DEBUG&&console.log(`[${new Date().toUTCString()}] [HTTP ${r.status}] [${Ln(Date.now()-n)}s]: ${e?.method||"GET"} ${t}`),r)).then(ml)}var vt=class extends Error{constructor(e,n){super(n),this.status=e}toString(){return`HTTP [${this.status}] ${this.message}`}};async function gl(t){let e=await t.text();try{let n=JSON.parse(e);return new vt(t.status,n.message||t.statusText)}catch{return new vt(t.status,e||t.statusText)}}async function ml(t){if(t.ok){let e=t.json;return t.json=async function(){if(this.status!=204)return e.call(this)},t}else throw await gl(t)}var ke=class t{constructor(e,n,r="AuthBearer"){e=Ce(e,"NOSLASH","KEEP"),this.base_url=e,this.auth_token=n,this.authMode=r}getClientForSubpath(e){return new t(this.getUrl(e),this.auth_token,this.authMode)}getAuthorizationHeaders(e={}){return this.auth_token&&(this.authMode=="AuthBearer"?e.Authorization=`Bearer ${this.auth_token}`:this.authMode=="idToken"&&(e.Cookie=`idToken=${this.auth_token}`)),e}getUrl(e=""){return this.base_url+e}authorizedFetch(e,n,r){let o=this.getAuthorizationHeaders(),a={credentials:this.authMode=="BrowserCredentials"?"include":void 0,...n,headers:{...o,...n?.headers}};return hl(r?e:this.getUrl(e),a)}head(e,n){let r={...n,method:"HEAD"};return this.authorizedFetch(this.getUrl(e),r)}get(e,n){return this.authorizedFetch(e,n)}getText(e,n){return this.authorizedFetch(e,n).then(r=>r.text())}getJson(e,n){return this.authorizedFetch(e,{headers:{Accept:"application/json"},...n||{}}).then(r=>r.json())}post(e,n,r){let o={...r,method:"POST",body:n};return this.authorizedFetch(e,o)}put(e,n,r){let o={...r,method:"PUT",body:n};return this.authorizedFetch(e,o)}postPutPatchJson(e,n,r,o){r||(r={}),r.headers||(r.headers={}),r.headers.Accept||(r.headers.Accept="application/json"),typeof n=="object"&&r?.headers&&r?.headers["Content-Type"]=="application/x-www-form-urlencoded"?n=new URLSearchParams(n):typeof n=="object"&&(!r?.headers["Content-Type"]||r?.headers["Content-Type"]=="application/json")&&(n=JSON.stringify(n,void 0,2),r.headers["Content-Type"]||(r.headers["Content-Type"]="application/json"));let a={...r,method:o||"POST",body:n};return this.authorizedFetch(e,a).then(i=>i.json())}postJson(e,n,r){return this.postPutPatchJson(e,n,r)}putJson(e,n,r){return this.postPutPatchJson(e,n,r,"PUT")}patchJson(e,n,r){return this.postPutPatchJson(e,n,r,"PATCH")}delete(e,n){let r={...n,method:"DELETE"};return this.authorizedFetch(e,r).then(o=>{})}deleteJson(e,n){let r={...n,method:"DELETE"};return this.authorizedFetch(e,r).then(o=>o.json())}};v();I();b();v();I();b();var q=class{constructor(e){this._httpClient=e}static forUrl(e,n,r,o){return new e(new ke(n,r,o))}get httpClient(){return this._httpClient}};var jn=class extends q{getConsent(e){return this.httpClient.getJson(`/consents/${e}`)}getConsents(e,n,r,o,a){return this.httpClient.getJson("/consents",{query:{userId:e,clientId:n,applicationId:r,consentReceiptId:o,isActive:a}})}createConsent(e,n,r,o,a){return this.httpClient.postJson("/consents",{userId:e,consentReceiptUrl:n,forPersonalData:o,duration:r,startProcessingJob:a})}withdrawConsent(e){return this.httpClient.postJson("/consents/withdraw",{consentId:e})}};v();I();b();v();I();b();v();I();b();v();I();b();var nn;(function(t){t.ADD_POD="AddPod",t.CONNECT_SOURCE="ConnectSource"})(nn||(nn={}));var Jt;(function(t){t.DEVELOPER_AUTHENTICATION="DeveloperAuthentication",t.REQUEST_DEVELOPER_TOKEN="REQUEST_DEVELOPER_TOKEN"})(Jt||(Jt={}));v();I();b();v();I();b();v();I();b();var ue;(function(t){t.Folder="folder",t.File="file"})(ue||(ue={}));function Or(t,e){we(t.metadata.type==e,`Resource is not a ${e} : ${t.metadata.name}`)}var rn="$MASTER$",$t="application/vnd.datavillage.folder+json",Ft=class extends Nr("deleteResource","saveResource","getResource","getResourceMetadata","getPods","getUser","append"){getPodInstance(e,n){return n==rn?new Lr(this,e,n):new Cn(this,e,n)}},Cn=class{constructor(e,n,r){this.userServices=e,this.userId=n,this.podId=r}getResource(e){return this.userServices.getResource(this.userId,this.podId,e)}getResourceMetadata(e){return this.userServices.getResourceMetadata(this.userId,this.podId,e)}getFile(e){return this.userServices.getResource(this.userId,this.podId,Ce(e,"NOSLASH")).then(n=>(Or(n,ue.File),n))}async getFolder(e,n){let r=Ce(e,"SLASH"),o=await this.userServices.getResource(this.userId,this.podId,r).catch(tn);if(o)return Or(o,ue.Folder),o;if(n)return this.userServices.saveResource(this.userId,this.podId,r,void 0,$t);throw new vt(404,"Folder not found: "+e)}saveFile(e,n,r){if(e.endsWith("/"))throw new Error("File name cannot end with a slash");return this.userServices.saveResource(this.userId,this.podId,e,n,r)}saveResource(e,n,r){return this.userServices.saveResource(this.userId,this.podId,e,n,r)}append(e,n){return this.userServices.append(this.userId,this.podId,e,n)}deleteResource(e){return this.userServices.deleteResource(this.userId,this.podId,e)}},Lr=class extends Cn{constructor(e,n,r){super(e,n,r)}getSecret(e){return this.getFile(`.datavillage/TOKENS/${encodeURIComponent(e)}.key`).then(n=>n.content.text())}storeSecret(e,n){return this.saveFile(`.datavillage/TOKENS/${encodeURIComponent(e)}.key`,n).then(r=>{})}getPublicKey(){return this.getFile(".datavillage/personal-public.key").then(e=>e.content.text())}async activateDatasource(e,n,r,o,a,i){let l=await this.getActivatedDatasources(),p=l.find(h=>h.resourceUri==e);if(p&&!a)throw new Error("Datasource already activated");{let h={activationDate:new Date().toISOString(),resourceUri:e,userInfo:o,grantedScopes:r};p?Object.assign(p,h):l.push(h),await this.saveFile(".datavillage/datasources.json",JSON.stringify(l,void 0,4));let m=i?n:Dr(n,await this.getPublicKey());await this.storeSecret(e,m)}}async updateDatasourceStatistics(e,n){let r=await this.getActivatedDatasources(),o=r.find(a=>a.resourceUri==e);o&&(o.statistics||(o.statistics=[]),o.statistics.unshift(n),o.statistics.length=Math.min(o.statistics.length,5),await this.saveFile(".datavillage/datasources.json",JSON.stringify(r,void 0,4)))}async getActivatedDatasources(){return await this.getFile(".datavillage/datasources.json").then(n=>n.content.text()).then(n=>JSON.parse(n)).catch(tn)||[]}async revokeDatasource(e){let n=await this.getActivatedDatasources(),r=n.findIndex(o=>o.resourceUri==e);r>=0&&(n.splice(r,1),await this.saveFile(".datavillage/datasources.json",JSON.stringify(n,void 0,4)),await this._deleteSecret(e).catch(tn))}async updateApplicationLog(e,n){let r=await this.getActiveApplications(),o=r.find(a=>a.id==e);o||r.push(o={id:e}),o.recentActivity||(o.recentActivity=[]),o.recentActivity.unshift(n),o.recentActivity.length=Math.min(o.recentActivity.length,5),await this.saveFile(".datavillage/applications.json",JSON.stringify(r,void 0,4))}async getActiveApplications(){return await this.getFile(".datavillage/applications.json").then(n=>n.content.text()).then(n=>JSON.parse(n)).catch(tn)||[]}_deleteSecret(e){return this.deleteResource(`.datavillage/TOKENS/${encodeURIComponent(e)}.key`).then(n=>{})}};function fs(t){let e=t.pods&&t.pods.find(n=>n.uri===t.masterPodUri);return we(e,"no master pod found for "+t.id),e}v();I();b();v();I();b();v();I();b();v();I();b();v();I();b();v();I();b();v();I();b();v();I();b();var on;(function(t){t.events="events",t.system="system"})(on||(on={}));v();I();b();var kn=class extends q{constructor(e){super(e)}async getAuthenticationUrl(e,n,r){if(n){let o=new URL(this.httpClient.getUrl("/auth/connect/"+n));return o.search=new URLSearchParams({activationCallbackUrl:e,action:nn.ADD_POD}).toString(),r&&o.searchParams.append("issuer",r),o.toString()}else{let o=new URL(this.httpClient.getUrl("/auth/login"));return o.search=new URLSearchParams({redirectUrl:e}).toString(),o.toString()}}async getDeveloperToken(e,n,r){let o=new URL(this.httpClient.getUrl("/auth/dev/connect/"+n));return o.search=new URLSearchParams({activationCallbackUrl:e,action:Jt.REQUEST_DEVELOPER_TOKEN,developerId:r}).toString(),o.toString()}async getDatasourceActivationUrl(e,n,r){return Tr(this.httpClient.getUrl("/auth/connect/"+n),{activationCallbackUrl:e,action:nn.CONNECT_SOURCE,force:r}).toString()}authenticate(e,n){throw new Error("Not implemented")}logout(){return this.httpClient.post("/auth/logout",void 0).then(e=>{})}getCurrentUser(){return this.httpClient.getJson("/auth/me",{}).catch(n=>{if(n.status!=401)throw n})}getCurrentDeveloper(){return this.httpClient.getJson("/auth/dev/me",{}).catch(n=>{if(n.status!=401)throw n})}getCurrentCredentials(){return this.httpClient.getJson("/auth/currentCredentials",{}).catch(n=>{if(n.status!=401)throw n})}developerLogout(){return this.httpClient.post("/auth/dev/logout",void 0).then(e=>{})}createUserToken(e,n){return this.httpClient.postJson("/auth/createToken",{userId:e,scope:n},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}createDevToken(e,n){return this.httpClient.postJson("/auth/dev/createToken",{devId:e,scope:n},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}activateSources(e){return this.httpClient.postJson("/sources/activate",{consentReceiptId:e},{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}};v();I();b();var Un=class extends q{getApplicationToken(e,n){return this.httpClient.postJson("/auth/getApplicationToken",{client_id:e,client_secret:n},{headers:{"Content-Type":"application/json"}})}};v();I();b();var Bn=class extends q{getDataSources(){return this.httpClient.getJson("/sources/providers")}importData(e,n,r,o){return this.httpClient.postJson("/sources/importData",{userIds:e,dataSourceId:n,importParams:o,clientId:r})}async startImportJob(e,n,r,o){return this.httpClient.postJson("/sources/startImportJob",{userIds:e,dataSourceId:n,clientId:r,importParams:o})}};v();I();b();v();I();b();function sn(t){let e=t.headers.get("last-modified")||"",n=t.headers.get("content-type")||void 0,o=(n&&n.split(";")[0].trim())==$t?ue.Folder:ue.File;if(t.url.endsWith("/")&&o!=ue.Folder)throw new Error("Content-type mismatch : resource with trailing slash is not advertised as folder: "+t.url);let a=new URL(t.url).pathname.split("/").filter(l=>l),i=a.length>0?a[a.length-1]:"";return o==ue.Folder&&(i+="/"),we(i,"Unable to get resource name: "+t.url),{lastModified:e,name:i,type:o,contentType:n}}async function It(t){let e=sn(t);return e.type==ue.Folder?{metadata:e,content:await t.json()}:{metadata:e,content:await t.blob()}}var Mn=class extends q{constructor(e){super(e)}getUser(e){return this.httpClient.getJson(`/users/${e}`)}getPods(e){return this.httpClient.getJson(`/users/${e}/pods`)}getPod(e,n){return this.httpClient.getJson(`/users/${e}/pods/${n}`)}async getResource(e,n,r){let o=await this.httpClient.authorizedFetch(`/users/${e}/pods/${encodeURIComponent(n)}/resources/${r}`);return It(o)}async getResourceMetadata(e,n,r){let o=await this.httpClient.head(`/users/${e}/pods/${n}/resources/${r}`);return sn(o)}saveResource(e,n,r,o,a){!a&&r.endsWith("/")&&(a=$t);let i=a?{"Content-Type":a}:void 0;return this.httpClient.authorizedFetch(`/users/${e}/pods/${n}/resources/${r}`,{headers:i,method:"PUT",body:o}).then(It)}append(e,n,r,o){if(r.endsWith("/"))throw new Error("File name cannot end with a slash");return this.httpClient.authorizedFetch(`/users/${e}/pods/${n}/resources/${r}`,{method:"POST",body:o}).then(It)}deleteResource(e,n,r){return this.httpClient.delete(`/users/${e}/pods/${n}/resources/${r}`)}};v();I();b();var an=class extends q{constructor(e){super(e)}createUser(e){return this.httpClient.postJson("/users",e)}getUsers(e){return this.httpClient.getJson(`/users?${bt(e).toString()}`)}addPod(e,n,r){throw new Error("Not implemented")}deleteUser(e){return this.httpClient.delete(`/users/${e}`)}checkIntegrity(e,n){return this.httpClient.postJson(`/users/${e}/checkIntegrity`,void 0,{query:{fix:n}})}getUserByIdentity(e){return this.httpClient.getJson("/users",{query:e}).then(n=>n[0])}};var hs=function(t){return new Ft(new Mn(t))};v();I();b();var Pn=class extends q{constructor(e){super(e)}getClients(){return this.httpClient.getJson("/clients")}getClient(e){return this.httpClient.getJson(`/clients/${e}`)}deleteClient(e){return this.httpClient.delete(`/clients/${e}`)}createClient(e,n,r,o){return this.httpClient.postJson("/clients",{name:e,url:n,logoUrl:r,label:o})}updateClient(e,n){return this.httpClient.patchJson(`/clients/${e}`,n)}getCollaborationSpaces(e){return this.httpClient.getJson(`/clients/${e}/spaces`)}getApplicationActiveUsers(e,n){return this.httpClient.getJson(`/clients/${e}/spaces/${n}/activeUsers`)}async getApplicationUserData(e,n,r,o){let a=o?{Accept:o}:void 0;return(await this.httpClient.get(`/clients/${e}/spaces/${n}/activeUsers/${r}/data`,{headers:a})).blob()}getInferences(e,n,r){return this.httpClient.authorizedFetch(`/clients/${e}/spaces/${n}/activeUsers/${r}/inferences`,{method:"GET"}).then(o=>o.json())}saveInferences(e,n,r,o){return this.httpClient.authorizedFetch(`/clients/${e}/spaces/${n}/activeUsers/${r}/inferences`,{method:"PUT",body:o}).then(a=>a.json())}getExplains(e,n,r){return this.httpClient.authorizedFetch(`/clients/${e}/spaces/${n}/activeUsers/${r}/explains`,{method:"GET"}).then(o=>o.json())}saveExplains(e,n,r,o){return this.httpClient.putJson(`/clients/${e}/spaces/${n}/activeUsers/${r}/explains`,o)}};v();I();b();function ms(t){return{httpClient:void 0,getConsentsServices:()=>vl,getCredentialManager:()=>Il,getDataBridge:()=>El,getPassport:()=>new jr(t),getUsersServices:()=>Sl,getUsersMgmtService:()=>Al,getClientsServices:()=>Nl,getActivityLog:()=>Dl,getJobsService:()=>_l,getDevelopersServices:()=>Rl,getConsentReceiptsServices:()=>bl,getCollaborationSpacesServices:()=>Tl,getOperatorServices:()=>Ol,getDatasetServices:()=>gs,getConnectorServices:()=>gs}}var wl={},Et=(t,e)=>({metadata:{lastModified:new Date().toISOString(),name:t,type:ue.File},content:new Blob}),De=(t,e)=>({metadata:{lastModified:new Date().toISOString(),name:t,type:ue.Folder},content:e}),vl={getConsent(t){throw new Error("Not implemented")},getConsents(t,e,n,r,o,a){throw new Error("Not implemented")},createConsent(t,e,n,r,o){throw new Error("Not implemented")},withdrawConsent(t){throw new Error("Not implemented")}},bl={getConsentReceiptUrl(t){throw new Error("Not implemented")},getConsentReceipt(t,e){if(e)throw new Error("Not implemented");return Promise.resolve(wl)},getCurrentConsentReceiptForApplication(t,e){throw new Error("Not implemented")},createConsentReceipt(t,e,n,r,o){throw new Error("Not implemented")}},Il={getApplicationToken(t,e){return Promise.resolve({access_token:"",expires_in:99999999,scope:"",token_type:"Bearer"})}},El={getDataSources(){throw new Error("Not implemented")},importData(t,e,n,r){throw new Error("Not implemented")},startImportJob(t,e,n,r){throw new Error("Not implemented")}},xl={"mock:user001/pod001":De("",[De("folder1",[De("folder1.1",[Et("file3.txt","File within a folder")])]),Et("file1.txt","Some content"),Et("file2.txt","Some other content")]),"https://tijs.inrupt.com/pod":De("",[De("folder1",[De("folder1.1",[])]),Et("file1.txt","Some content"),Et("file2.txt","Some other content")]),"https://tim.worldwideweb.com/pod":De("",[De("folder1",[De("folder1.1",[])]),Et("file1.txt","Some content")]),"https://subdomainlongerthanyouhaveeverseen.inrupt.com/pod":De("",[De("folder1",[De("folder1.1",[])]),Et("file1.txt","Some content")])},st={user001:{clientId:"",masterPodUri:"mock:user001/pod001",creationDate:new Date().toISOString(),updateDate:new Date().toISOString(),pods:[{identity:{type:"token",id:"webid:user001",issuerUri:"mock:id_issuer"},type:"solid",uri:"mock:user001/pod001",registrationDate:"2021-05-01T14:00:00.000Z",description:"A mock pod"}],id:"user001",identities:[]},user002:{clientId:"",masterPodUri:"https://tijs.inrupt.com/pod",creationDate:new Date().toISOString(),updateDate:new Date().toISOString(),pods:[{type:"solid",description:"Tijs' Pod",uri:"https://tijs.inrupt.com/pod",identity:{type:"token",id:"https://tijs.inrupt.com/profile/me",issuerUri:"https://inrupt.net"},registrationDate:"2021-04-23T18:25:43.511Z"},{type:"solid",description:"Tim's data",uri:"https://tim.worldwideweb.com/pod",identity:{type:"token",id:"https://tim.worldwideweb.com/profile/me",issuerUri:"https://worldwideweb.com"},registrationDate:"2021-05-23T18:25:43.511Z"},{type:"google",description:"Super long pod data and it keeps on coming",uri:"https://subdomainlongerthanyouhaveeverseen.inrupt.com/pod",identity:{type:"token",id:"https://thiswillneverfitbutitdoesnotevenhaveto.inrupt.com/profile/me",issuerUri:"https://thelongesturlintheworldididntevenknowthisexisted"},registrationDate:"2021-04-23T18:25:43.511Z"}],id:"user002",identities:[]}},jr=class{constructor(e){this.currentUser=e?st[e]:void 0}async getAuthenticationUrl(e,n,r){let o=new URL(e),a=new URL("https://dv-dev-mocked-content.s3.amazonaws.com/externalLoginMock.html");return a.search=new URLSearchParams({activationCallbackUrl:o.toString(),users:Object.keys(st).join(",")}).toString(),a.toString()}async getDeveloperToken(e,n,r){throw new Error("Not implemented")}async getDatasourceActivationUrl(e,n,r){throw new Error("Not implemented")}async authenticate(e,n){if(st[e])return this.currentUser=st[e],this.currentUser;throw new Error("Authentication failed")}async logout(){return this.currentUser=void 0,Promise.resolve(void 0)}async activateSources(e){throw new Error("Not implemented")}getCurrentUser(){return Promise.resolve(this.currentUser)}getCurrentDeveloper(){throw"Not implemented"}getCurrentCredentials(){throw"Not implemented"}async developerLogout(){throw"Not implemented"}createDevToken(e,n){throw new Error("Not implemented")}createUserToken(e,n){throw new Error("Not implemented")}},Sl=new Ft({getUser(t){return Promise.resolve(st[t])},getPods(t){return Promise.resolve(st[t].pods)},getPod(t,e){return Promise.resolve(st[t].pods[0])},async getResource(t,e,n){let r=await this.getUser(t),o=e==rn?fs(r):r.pods.find(p=>p.uri==e);we(o,"Pod not found: "+e);let a=xl[o.uri],l=Ce(n,"NOSLASH","RELATIVE").split("/").reduce((p,h,m)=>{if(h==""){if(m>0)throw new Error("Wrong path : "+n);return p}if(p.metadata.type!=ue.Folder)throw new Error("Not a folder : "+p.metadata.name);let y=p.content.find(w=>w.metadata.name==h);if(!y)throw new Error("Missing resource : "+h);return y},a);return l.metadata.type==ue.Folder?{...l,content:l.content.map(p=>p.metadata)}:l},getResourceMetadata(t,e,n){return this.getResource(t,e,n).then(r=>r.metadata)},saveResource(t,e,n,r,o){throw new Error("Not implemented")},append(t,e,n,r){throw new Error("Not implemented")},deleteResource(t,e,n){throw new Error("Not implemented")}}),Al={addPod(t,e,n){throw new Error("Not implemented")},createUser(t){throw"Not implemented"},deleteUser(t){throw"Not implemented"},checkIntegrity(t,e){throw"Not implemented"},getUsers(t){return Promise.resolve(Object.values(st))},getUserByIdentity(t){throw"Not implemented"}},Nl={getCollaborationSpaces(t){throw new Error("Not implemented")},createClient(t,e){throw new Error("Not implemented")},updateClient(t,e){throw new Error("Not implemented")},getClient(t){throw new Error("Not implemented")},deleteClient(t){throw new Error("Not implemented")},getClients(){throw new Error("Not implemented")},getApplicationActiveUsers(t,e){throw new Error("Not implemented")},getApplicationUserData(t,e,n,r){throw"Not implemented"},getInferences(t,e,n){throw new Error("Not implemented")},saveInferences(t,e,n,r){throw new Error("Not implemented")},getExplains(t,e,n){throw new Error("Not implemented")},saveExplains(t,e,n,r){throw new Error("Not implemented")}},Dl={getActivityLog(t){throw new Error("Not implemented")}},_l={getJobs(t){throw new Error("Not implemented")},getJob(t){throw new Error("Not implemented")},startJob(t){throw new Error("Not implemented")},logJobActivity(t,e){throw new Error("Not implemented")},createJob(t){throw new Error("Not implemented")}},Rl={create(t){throw"Not implemented"},updateRoles(t){throw"Not implemented"},getById(t){throw"Not implemented"},getAll(){throw"Not implemented"},delete(t){throw"Not implemented"},getAuthenticationUrl(t,e){throw"Not implemented"},getIssuer(t){throw"Not implemented"}},Tl={answerInvite(t,e,n){throw"Not implemented"},createCollaborationSpace(t){throw"Not implemented"},updateCollaborationSpace(t,e){throw"Not implemented"},addAllowedDatasetVersion(t,e){throw"Not implemented"},deleteAllowedDatasetVersion(t,e){throw"Not implemented"},createCollaboratorDataDescriptor(t,e,n,r){throw"Not implemented"},createIndividualDescriptor(t,e,n){throw"Not implemented"},deleteCollaborationSpace(t){throw"Not implemented"},deleteCollaboratorDataDescriptor(t,e,n,r){throw"Not implemented"},deleteIndividualDescriptor(t,e,n){throw"Not implemented"},getCollaborationSpace(t){throw"Not implemented"},getAll(t){throw"Not implemented"},getAllApplications(t){throw"Not implemented"},getCollaborator(t,e,n){throw"Not implemented"},getCollaborators(t){return Promise.resolve([])},inviteCollaborator(t,e){throw"Not implemented"},updateCollaborator(t,e,n,r){throw"Not implemented"},updateCollaboratorDataDescriptor(t,e,n,r,o){throw"Not implemented"},updateIndividualDescriptor(t,e,n,r){throw"Not implemented"},updateIndividuals(t,e,n){throw"Not implemented"},getAllForDeveloper(t){throw"Not implemented"},getAllForUser(t){throw"Not implemented"},getCollaborationSpaces(){throw"Not implemented"},getCageServices(t){throw"Not implemented"},getOperatorServices(t){throw"Not implemented"},addSpaceMetric(t,e){throw"Not implemented"},getSpaceMetrics(t){throw"Not implemented"},setupIndividuals(t,e,n){throw"Not implemented"},deleteUserAppDataResource(t,e,n){throw"Not implemented"},getUserAppDataMetadata(t,e,n){throw"Not implemented"},getUserAppDataResource(t,e,n){throw"Not implemented"},saveUserAppDataResource(t,e,n,r,o){throw"Not implemented"},pushConfiguration(t,e,n,r){throw"Not implemented"}},Ol={getCages(){throw"Not implemented"}},gs={};v();I();b();var Jn=class extends q{constructor(e){super(e)}getActivityLog(e){let n=bt(e);return this.httpClient.getJson("/activities?"+n.toString())}};v();I();b();var Fn=class extends q{constructor(e){super(e)}getJobs(e){let n=bt(e);return this.httpClient.getJson("/jobs?"+n.toString())}getJob(e){return this.httpClient.getJson("/jobs/"+e)}startJob(e){return this.httpClient.postJson("/jobs",e)}createJob(e){return this.httpClient.postJson("/jobs",e)}logJobActivity(e,n){return this.httpClient.postJson("/jobs/"+e,n)}};v();I();b();var $n=class extends q{constructor(e){super(e)}create(e){return this.httpClient.postJson("/developers/",e)}delete(e){return this.httpClient.delete(`/developers/${e}`)}getAll(){return this.httpClient.getJson("/developers")}getById(e){return this.httpClient.getJson(`/developers/${e}`)}getAuthenticationUrl(e,n){let r=new URL(this.httpClient.getUrl("/auth/dev/connect/"+e));return r.search=new URLSearchParams({activationCallbackUrl:n,action:Jt.DEVELOPER_AUTHENTICATION}).toString(),r.toString()}updateRoles(e){return this.httpClient.postJson("/developers/roles",e)}getIssuer(e){return this.httpClient.get(`/auth/dev/issuer/${e}`).then(n=>n.text())}};v();I();b();var qn=class extends q{getConsentReceiptUrl(e){return this.httpClient.getUrl(`/consentReceipts/${e}`)}getConsentReceipt(e){return this.httpClient.getJson(`/consentReceipts/${e}`)}getCurrentConsentReceiptForApplication(e,n){return this.httpClient.getJson(`/clients/${e}/spaces/${n}/currentConsentReceipt`)}createConsentReceipt(e,n,r,o,a){return this.httpClient.postJson(`/clients/${e}/spaces/${n}/consentReceipts`,{purpose:r,forProcessing:o,forPersonalData:a})}};v();I();b();v();I();b();var cn=class t extends q{static forApp(e,n){return new t(new ke(new URL(Ce(n,"NOSLASH","ABSOLUTE"),e).toString()))}constructor(e){super(e)}getEvents(e=on.events){return this.httpClient.getJson("/event",{query:{stream_name:e}})}postEvent(e,n=on.events){return this.httpClient.postJson("/event",e,{query:{stream_name:n}})}getAttestation(){return this.httpClient.getJson("/attestation_SEV")}uploadData(e,n){return this.httpClient.put("/resources/data/"+e,n).then(r=>r.text())}getOutput(e){return this.httpClient.get("/resources/output/"+e).then(n=>n.blob())}listData(){return this.httpClient.getJson("/resources/data/")}listOutputs(){return this.httpClient.getJson("/resources/outputs/")}};v();I();b();var Hn=class t extends q{static forApp(e){return new t(new ke(new URL(`${e}`).toString()))}constructor(e){super(e)}getCages(){return this.httpClient.getJson("/operator/cages")}},Gn=class t extends q{static forApp(e,n){return new t(new ke(new URL(`${e}/${n}`).toString()))}deploy(e){return this.httpClient.postJson("/deploy",e)}rollout(){return this.httpClient.postJson("/rollout")}delete(e,n){return this.httpClient.deleteJson("/delete",{query:{keep_vm:e,keep_data:n}})}getPodStatus(){return this.httpClient.getJson("/logs/pod_status")}getAlgoLogs(e){return this.httpClient.getJson(`/logs/algo?tail_lines=${e||100}`)}getDeploymentLogs(e){return this.httpClient.getJson(`/logs/deployment?tail_lines=${e||100}`)}getCageStatus(e){return this.httpClient.getJson(`/logs/states?tail_lines=${e||100}`)}getLoki(e,n){return this.httpClient.getJson("/loki/api/v1/query_range",{query:{query:e,start:n?.toISOString()}})}sendLokiEvents(e){return this.httpClient.postJson("/loki",e)}};var Vn=class extends q{constructor(e){super(e)}getCollaborationSpaces(){return this.httpClient.getJson("/collaborationSpaces")}createCollaborationSpace(e){return this.httpClient.postJson("/collaborationSpaces",e)}updateCollaborationSpace(e,n){return this.httpClient.patchJson(`/collaborationSpaces/${e}`,n)}getCollaborationSpace(e){return this.httpClient.getJson(`/collaborationSpaces/${e}`)}deleteCollaborationSpace(e){return this.httpClient.delete(`/collaborationSpaces/${e}`)}addAllowedDatasetVersion(e,n){return this.httpClient.patchJson(`/collaborationSpaces/${e}/allowedData`,n)}deleteAllowedDatasetVersion(e,n){return this.httpClient.delete(`/collaborationSpaces/${e}/allowedData?datasetId=${n.datasetId}&version=${n.version}`)}inviteCollaborator(e,n){return this.httpClient.postJson(`/collaborationSpaces/${e}/collaborators`,n)}getCollaborators(e){return this.httpClient.getJson(`/collaborationSpaces/${e}/collaborators`)}getCollaborator(e,n,r){return this.httpClient.getJson(`/collaborationSpaces/${e}/collaborators/${n}?role=${r}`)}updateCollaborator(e,n,r,o){return this.httpClient.patchJson(`/collaborationSpaces/${e}/collaborators/${n}?role=${r}`,o)}answerInvite(e,n,r){return this.httpClient.patchJson(`/collaborationSpaces/${e}/collaborators/${n}/invite`,r)}createCollaboratorDataDescriptor(e,n,r,o){return this.httpClient.postJson(`/collaborationSpaces/${e}/collaborators/${n}/dataDescriptors?role=${r}`,o)}deleteCollaboratorDataDescriptor(e,n,r,o){return this.httpClient.delete(`/collaborationSpaces/${e}/collaborators/${n}/dataDescriptors/${o}?role=${r}`)}updateCollaboratorDataDescriptor(e,n,r,o,a){return this.httpClient.patchJson(`/collaborationSpaces/${e}/collaborators/${n}/dataDescriptors/${o}?role=${r}`,a)}createIndividualDescriptor(e,n,r){return this.httpClient.postJson(`/collaborationSpaces/${e}/collaborators/${n}/individuals`,r)}deleteIndividualDescriptor(e,n,r){return this.httpClient.delete(`/collaborationSpaces/${e}/collaborators/${n}/individuals/${r}`)}updateIndividualDescriptor(e,n,r,o){return this.httpClient.patchJson(`/collaborationSpaces/${e}/collaborators/${n}/individuals/${r}`,o)}updateIndividuals(e,n,r){return this.httpClient.patchJson(`/collaborationSpaces/${e}/collaborators/${n}/individuals`,r)}setupIndividuals(e,n,r){return this.httpClient.postJson(`/collaborationSpaces/${e}/collaborators/${n}/individuals/setup`,r)}getAll(){return this.httpClient.getJson("/collaborationSpaces")}getAllApplications(){return this.httpClient.getJson("/users/applications")}getAllForUser(e){return this.httpClient.getJson(`/users/${e}/applications`)}getAllForDeveloper(e){return this.httpClient.getJson(`/developers/${e}/spaces`)}getCageServices(e){return new cn(this.httpClient.getClientForSubpath(`/collaborationSpaces/${e}/cage`))}getOperatorServices(e){return new Gn(this.httpClient.getClientForSubpath(`/collaborationSpaces/${e}/operator`))}addSpaceMetric(e,n){return this.httpClient.postJson(`/collaborationSpaces/${e}/metrics`,n)}getSpaceMetrics(e){return this.httpClient.getJson(`/collaborationSpaces/${e}/metrics`)}deleteUserAppDataResource(e,n,r){return this.httpClient.delete(`/collaborationSpaces/${e}/users/${n}/appdata/${r}`)}async getUserAppDataMetadata(e,n,r){let o=await this.httpClient.head(`/collaborationSpaces/${e}/users/${n}/appdata/${r}`);return sn(o)}async getUserAppDataResource(e,n,r){let o=await this.httpClient.authorizedFetch(`/collaborationSpaces/${e}/users/${n}/appdata/${r}`);return It(o)}saveUserAppDataResource(e,n,r,o,a){!a&&r.endsWith("/")&&(a=$t);let i=a?{"Content-Type":a}:void 0;return this.httpClient.authorizedFetch(`/collaborationSpaces/${e}/users/${n}/appdata/${r}`,{headers:i,method:"PUT",body:o}).then(It)}pushConfiguration(e,n,r,o){return this.httpClient.put(`/collaborationSpaces/${e}/collaborators/${n}/dataDescriptors/${r}/configuration`,o)}};v();I();b();var zn=class extends q{constructor(e){super(e)}getDatasets(){return this.httpClient.getJson("/datasets")}getDataset(e){return this.httpClient.getJson(`/datasets/${e}`)}createDataset(e){return this.httpClient.postJson("/datasets",e)}addDatasetVersion(e){return this.httpClient.postJson(`/datasets/${e}/version`)}getDatasetVersion(e,n){return this.httpClient.getJson(`/datasets/${e}/versions/${n}`)}deprecateDatasetVersion(e,n){return this.httpClient.postJson(`/datasets/${e}/versions/${n}/deprecate`)}finalizeDatasetVersion(e,n){return this.httpClient.postJson(`/datasets/${e}/versions/${n}/finalize`)}updateDatasetVersion(e,n,r){return this.httpClient.postJson(`/datasets/${e}/versions/${n}`,r)}getDatasetConfiguration(e,n){return this.httpClient.getJson(`/datasets/${e}/versions/${n}/configuration`)}};v();I();b();var Wn=class extends q{constructor(e){super(e)}getConnectors(){return this.httpClient.getJson("/connectors")}};v();I();b();v();I();b();var ys;(function(t){t.Given="gConsent:Given",t.Withdrawn="gConsent:Withdrawn"})(ys||(ys={}));var ws;(function(t){t.Adaptation="gConsent:DataAdaptation",t.Alignment="gConsent:DataAlignment",t.Alteration="gConsent:DataAlteration",t.Collection="gConsent:DataCollection",t.Combination="gConsent:DataCombination",t.Consultation="gConsent:DataConsultation",t.Destruction="gConsent:DataDestruction",t.Disclosure="gConsent:DataDisclosure",t.Dissemination="gConsent:DataDissemination",t.Erasure="gConsent:DataErasure",t.Organisation="gConsent:DataOrganisation",t.Recording="gConsent:DataRecording",t.Restriction="gConsent:DataRestriction",t.Retrieval="gConsent:DataRetrieval",t.Sharing="gConsent:DataSharing",t.Storage="gConsent:DataStorage",t.Structuring="gConsent:DataStructuring",t.Use="gConsent:DataUse"})(ws||(ws={}));var vs;(function(t){t.dev="https://api.datavillage.me/consent/context.jsonld",t.staging="https://api.datavillage.me/consent/context.jsonld"})(vs||(vs={}));v();I();b();var bs;(function(t){t[t.ERROR=0]="ERROR",t[t.WARNING=1]="WARNING",t[t.INFO=2]="INFO"})(bs||(bs={}));v();I();b();var Is;(function(t){t.ERROR="ERROR",t.PENDING="PENDING",t.RUNNING="RUNNING",t.SUCCESS="SUCCESS"})(Is||(Is={}));v();I();b();var Es;(function(t){t.PULL="PULL",t.PUSH="PUSH"})(Es||(Es={}));v();I();b();var xs;(function(t){t.ADMIN="ADMIN",t.INFRA="INFRA",t.USER="USER"})(xs||(xs={}));v();I();b();v();I();b();v();I();b();v();I();b();var Ss;(function(t){t.Created="Created",t.Accepted="Accepted",t.Declined="Declined"})(Ss||(Ss={}));var As;(function(t){t.CodeProvider="CodeProvider",t.DataProvider="DataProvider",t.DataConsumer="DataConsumer"})(As||(As={}));var Ns;(function(t){t.Dataset="Dataset",t.Custom="Custom"})(Ns||(Ns={}));var Ds;(function(t){t.Pull="Pull",t.Push="Push"})(Ds||(Ds={}));var _s;(function(t){t.In="In",t.Out="Out"})(_s||(_s={}));v();I();b();var Xn;(function(t){t.USER="USER",t.CLIENT="CLIENT",t.DEVELOPER="DEVELOPER",t.CONSENT="CONSENT"})(Xn||(Xn={}));var Om=Xn.USER+":*",Lm=Xn.DEVELOPER+":*";var Rs;(function(t){t.Github="github",t.OAuth="oauth"})(Rs||(Rs={}));v();I();b();var Cr;(function(t){t.dv="https://api.datavillage.me/",t.schema="https://schema.org/",t.gConsent="https://w3id.org/GConsent#",t.dvConsent="https://datavillage.me/consent#",t.consents="https://api.datavillage.me/consents/"})(Cr||(Cr={}));var kr;(function(t){t.text="text/plain",t.turtle="text/turtle",t.rdf_xml="application/rdf+xml",t.json="application/json",t.nq="application/n-quads",t.n3="text/n3",t.nt="application/n-triples"})(kr||(kr={}));v();I();b();v();I();b();v();I();b();v();I();b();var xi=Ui(Oc(),1);v();I();b();var Rb={..._r};function Lc(t,e,n){let r=new URL(t);if(r.protocol=="mock:"){let o=r.pathname;return ms(o)}else{let o=new ke(t,e,n);return{httpClient:o,getConsentsServices:()=>new jn(o),getConsentReceiptsServices:()=>new qn(o),getCredentialManager:()=>new Un(o),getDataBridge:()=>new Bn(o),getPassport:()=>new kn(o),getUsersServices:()=>new hs(o),getUsersMgmtService:()=>new an(o),getClientsServices:()=>new Pn(o),getActivityLog:()=>new Jn(o),getJobsService:()=>new Fn(o),getDevelopersServices:()=>new $n(o),getCollaborationSpacesServices:()=>new Vn(o),getOperatorServices:()=>new Hn(o),getDatasetServices:()=>new zn(o),getConnectorServices:()=>new Wn(o)}}}v();I();b();globalThis.assertEnabled=!1;function xn(t,e){if(globalThis.assertEnabled){let n=nt(t,e);if(n)throw console.error("\u{1F170}\uFE0F  Assertions failed because of:",n,"in this source:",t),new Error("Assertions failed",{cause:{problems:n,source:t}})}}function Kt(t){return function(n,r,o){if(typeof n<"u"&&n!=null&&typeof t<"u")return nt(n,t,r,o)}}function yr(t){return function(n,r,o){return n==null||typeof n>"u"?he("data is required",n,t||"any value",o):typeof t<"u"?nt(n,t,r,o):!1}}function jc(...t){return function(n,r,o){for(let a of t)if(!nt(n,a,r,o))return!1;return he("data does not match oneOf patterns",n,t,o)}}function Si(t,e,n){try{t instanceof URL&&(t=t.href);let r=new URL(t);if(r.href!=t&&!(r.href+"/"==t||r.href==t+"/"))return he("data is not a valid url",t,"validURL",n)}catch{return he("data is not a valid url",t,"validURL",n)}}function Cc(t){return function(n,r,o){if(!(n instanceof t))return he("data is not an instanceof pattern",n,t,o)}}function nt(t,e,n,r=""){n||(n=t);let o=[];if(e===Boolean)typeof t!="boolean"&&!(t instanceof Boolean)&&o.push(he("data is not a boolean",t,e,r));else if(e===Number)typeof t!="number"&&!(t instanceof Number)&&o.push(he("data is not a number",t,e,r));else if(e===String)typeof t!="string"&&!(t instanceof String)&&o.push(he("data is not a string",t,e,r)),t==""&&o.push(he("data is an empty string, which is not allowed",t,e,r));else if(e instanceof RegExp)if(Array.isArray(t)){let a=t.findIndex((i,l)=>nt(i,e,n,r+"["+l+"]"));a>-1&&o.push(he("data["+a+"] does not match pattern",t[a],e,r+"["+a+"]"))}else typeof t>"u"?o.push(he("data is undefined, should match pattern",t,e,r)):e.test(t)||o.push(he("data does not match pattern",t,e,r));else if(e instanceof Function){let a=e(t,n,r);a&&(Array.isArray(a)?o=o.concat(a):o.push(a))}else if(Array.isArray(e)){Array.isArray(t)||o.push(he("data is not an array",t,[],r));for(let a of e)for(let i of t.keys()){let l=nt(t[i],a,n,r+"["+i+"]");Array.isArray(l)?o=o.concat(l):l&&o.push(l)}}else if(e&&typeof e=="object")if(Array.isArray(t)){let a=t.findIndex((i,l)=>nt(i,e,n,r+"["+l+"]"));a>-1&&o.push(he("data["+a+"] does not match pattern",t[a],e,r+"["+a+"]"))}else if(!t||typeof t!="object")o.push(he("data is not an object, pattern is",t,e,r));else if(t instanceof URLSearchParams&&(t=Object.fromEntries(t)),e instanceof Function){let a=nt(t,e,n,r);a&&(o=o.concat(a))}else for(let[a,i]of Object.entries(e)){let l=nt(t[a],i,n,r+"."+a);l&&(o=o.concat(l))}else e!=t&&o.push(he("data and pattern are not equal",t,e,r));return o.length?o:!1}function he(t,e,n,r,o){let a={message:t,found:e,expected:n,path:r};return o&&(a.problems=o),a}var Ai="sdkn:",jd="https://api.sndk-dev.datavillage.me",kc="https://idp.dev.jouw.id",ft,rt,Ni,Qt;async function Uc(t={}){let e={client_id:yr(String),client_secret:yr(String),idpRedirect:Kt(Cc(Function)),silent:Kt(Boolean),keepLoggedIn:Kt(Boolean)};t=Object.assign({},{idpRedirect:l=>window.location.replace(l),silent:!1,keepLoggedIn:!0},t),xn(t,e);let r=new URL(location.href),o=new URLSearchParams(r.search);ft||(ft=Jc(t.keepLoggedIn?"local":"session"));let a=o.get("token");a&&ft.set("id_token",a,"local");let i=ft.get("id_token","","local");return i&&i!==Ni&&(Ni=i),rt||(rt=Lc(jd,Ni??void 0,"AuthBearer")),rt?(Qt=await rt.getPassport().getCurrentUser(),!Qt&&!t.silent&&(Qt=await Cd(t.idpRedirect)),Qt):!1}function Bc(t={}){let e={keepLoggedIn:Kt(Boolean)};return xn(t,e),ft||(ft=Jc(t.keepLoggedIn?"local":"session")),ft.get("id_token")??!1}async function Mc(t){let e={redirectURL:"/"},n={redirectURL:Kt(jc(Si,kd))};t=Object.assign({},e,t),xn(t,n),rt&&(ft.remove("id_token","local"),await rt.getPassport().logout(),fetch(new URL("/logout",kc),{method:"GET"}),setUser(null),window.location=t.redirectURL)}async function Pc(t){let e={},n={resourcePath:yr(String)};return t=Object.assign({},e,t),xn(t,n),rt&&Qt?.id?await(await(await rt.getUsersServices().getPodInstance(Qt.id,rn)).getFile(t.resourcePath)).content.text():!1}var Jc=function(t){let e=t==="local"?localStorage:sessionStorage;return{get(n,r){try{let o=e.getItem(Ai+n);return o===null?r:JSON.parse(o)}catch(o){return console.warn(`Reading from ${t}Storage failed`,o),r}},set(n,r){try{e.setItem(Ai+n,JSON.stringify(r))}catch(o){console.warn(`Saving to ${t}Storage failed`,o)}},remove(n){try{e.removeItem(Ai+n)}catch(r){console.warn(`Removing from ${t}Storage failed`,r)}}}};async function Cd(t){let e=`CODEREDIRECT:${window.location.href}`,n=await rt?.getPassport()?.getAuthenticationUrl(e,"inrupt",new URL("/",kc));return t(n)}var kd=t=>{let e=new URL("/",window.location.href);return Si(e.href+t)};globalThis.jouwid={login:Uc,isLoggedIn:Bc,logout:Mc,getProtectedResource:Pc};})();
/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

rdf-canonize/lib/MessageDigest-browser.js:
  (*!
   * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
   *)

rdf-canonize/lib/Permuter.js:
  (*!
   * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
   *)

rdf-canonize/lib/NQuads.js:
  (*!
   * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
   *)

rdf-canonize/lib/URDNA2015.js:
  (*!
   * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
   *)

rdf-canonize/lib/URGNA2012.js:
  (*!
   * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
   *)

rdf-canonize/lib/URDNA2015Sync.js:
  (*!
   * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
   *)

rdf-canonize/lib/URGNA2012Sync.js:
  (*!
   * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
   *)

jsonld/lib/context.js:
  (* disallow aliasing @context and @preserve *)

jsonld/lib/frame.js:
  (* remove @preserve from results *)
  (**
   * Removes the @preserve keywords from expanded result of framing.
   *
   * @param input the framed, framed output.
   * @param options the framing options used.
   *
   * @return the resulting output.
   *)
  (* remove @preserve *)

jsonld/lib/jsonld.js:
  (**
   * A JavaScript implementation of the JSON-LD API.
   *
   * @author Dave Longley
   *
   * @license BSD 3-Clause License
   * Copyright (c) 2011-2022 Digital Bazaar, Inc.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without
   * modification, are permitted provided that the following conditions are met:
   *
   * Redistributions of source code must retain the above copyright notice,
   * this list of conditions and the following disclaimer.
   *
   * Redistributions in binary form must reproduce the above copyright
   * notice, this list of conditions and the following disclaimer in the
   * documentation and/or other materials provided with the distribution.
   *
   * Neither the name of the Digital Bazaar, Inc. nor the names of its
   * contributors may be used to endorse or promote products derived from
   * this software without specific prior written permission.
   *
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
   * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
   * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
   * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
   * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
   * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
   * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
   * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
   *)
*/
